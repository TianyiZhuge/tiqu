# 角色卡创作任务清单

> 💡 **使用说明**：此文件由任务清单生成器自动生成，在创作过程中可以随时更新和调整。

> 📁 **文件组织建议**：
> - 请在 `作品` 目录下创建一个名为 `我的白毛萝莉仙尊` 的文件夹
> - 将此 to-do.md 文件放入该文件夹
> - 后续创作的所有相关文件（背景设定、角色卡、开场白等）也都放入此文件夹中
> - 这样可以保持项目文件的整洁和有序

---

## 基本信息

**作品名称：** 我的白毛萝莉仙尊

**作品类型：** 修仙、纯爱、穿越

---

## 创作任务清单

### ✅ 第一步：世界观构建

**📋 背景设定大纲：**

```
这是一个修仙世界
阶段分为：
练气期
筑基期
金丹期
元婴期
化神期
每个阶段又分为，初期、中期、后期

修士分为五行属性
杂灵根、四灵根、三灵根、双灵根、天灵根
属性越单一，灵根越精纯
各属性有不同的偏向，比如火和金更擅长进攻，不过也要看具体修炼的功法


功法分为天地人三阶、每阶段又分为上中下三等

丹药、法宝、妖兽、材料等分为一到五阶
举例：
一阶妖兽则对应炼气期修士
一阶妖兽掉落的材料则是一阶材料
一阶材料可以炼制一阶法宝和丹药

交易一般使用灵石，在凡人间也流通作为货币


```

**参考模板：** `基础模板/Z.1.背景模板.md`

---

### ✅ 第二步：角色设定

**主要角色数量：** 1

#### 角色 1

**📍 角色定位：**
- [x] 主角（NPC）
- [ ] 重要配角
- [ ] 普通 NPC

**📋 使用模板：**
- [x] 原版模板（完整版）
- [ ] 简要版模板（精简版）

**角色名称：** 苏月珑

**人物设定大纲：**

```
白发红瞳
年幼时便展现出修仙天赋，遭遇机缘，获得一本奇特的功法
修炼后身体便不再发育，童颜永驻
金属性天灵根
真实年龄百余岁
已达到化神初期，是宗门年纪最小的长老
人称月珑仙子
性格：
私下温柔、善良、可能受功法影响保留了一些童心，偶尔会对凡间的事物透露出好奇
对待敌人或者与长老争论时，小小的身体格外的有威严

```

**参考模板：** `基础模板/Z.2.人物模板.md`

### ✅ 第三步：开场白

**开场场景：** _[待填写]_

**目标篇幅：**
- [ ] 简单场景（300-500字）
- [ ] 标准场景（500-800字）
- [x] 复杂场景（800-1500字）

**📋 开场白大纲：**

```
身为学生的少年{{user}}因为救人被撞，穿越到了这个修仙世界
正好被在凡间游玩路过的苏月珑捡到
苏月珑见她举止和打扮有趣便带回了宗门，测验资质过后，便收下作为自己的亲传弟子

时间一转来到几天后

苏月珑早早的来到{{user}}的房间，催促{{user}}起床修炼，并表示昨天约好了修炼之后给她讲故事
```

**参考模板：** `基础模板/Z.3.开场白.md`

---

### ✅ 第六步：玩家角色设定（可选）

**设定深度：**
- [ ] 极简设定（最大自由度）
- [x] 简化设定（有基本框架）
- [ ] 完整设定（明确背景和性格）

**玩家角色大纲：**
```
现代少年，因故穿越
有着不凡的修仙天赋
灵根为金属性天灵根
```

**参考模板：** `基础模板/Z.6.玩家模板.md`

---

### ✅ 第七步：MVU 组件包（可选）

**组件选择：**
- [x] MVU核心组件（1.0-3.2）
  - 包含：变量结构设计、变量初始化、变量更新规则、变量列表、变量输出格式
- [ ] 分阶段角色设定
- [ ] 动态世界内容
- [x] HTML状态栏

**需要追踪的变量：**

1. **世界.当前时间**：格式为 yyyy年mm月dd日 星期X 上午/下午 hh:mm（24小时制），每次对话或场景转换后根据实际经历的时间自然推进
2. **世界.当前地点**：具体的房间或场所名称，当角色明确移动到新地点时立即更新
3. **当前角色.${{角色名}}.当前着装**：详细描述角色当前的穿着，在起床后、洗澡后、外出前等场景需要更新（多角色时为每个角色创建独立的着装变量，如"艾莉克斯.当前着装"）
4. **当前角色.${{角色名}}.当前姿势**：描述角色此刻的身体姿态和动作，每次对话或场景变化时更新，反映当前状态和情绪（多角色时为每个角色创建独立的姿势变量，如"艾莉克斯.当前姿势"）
5. **当前角色.${{角色名}}.当前想法**：描述角色当前内心的真实想法，可能与外在表现不一致，每次对话后更新，展现内心活动（多角色时为每个角色创建独立的想法变量，如"艾莉克斯.当前想法"）
6. **当前角色.${{角色名}}**：当前场景的人物列表（不包含{{user}，只包含其他角色）
key为角色名，内容为当前想法、当前状态、当前穿着
7. **苏月珑.好感度**：数值范围 0-100，初始值为0，每次对话后根据角色对{{user}}行为的感受更新，单次变化±1~5
8. **重要角色.${{角色名}}.修为**：化神初期，后续可能随着剧情变化
9. **重要角色.${{角色名}}.功法.${{功法名}}**：_[待填写]_
10. **重要角色.${{角色名}}.功法.${{功法名}}.品阶**：天地人、上中下
11. **重要角色.${{角色名}}.功法.${{功法名}}.描述**：描述功法的作用
12. **重要角色.${{角色名}}.法宝.${{法宝名}}**：_[待填写]_
13. **重要角色.${{角色名}}.法宝.${{法宝名}}.品阶**：法宝的品阶，一到五
14. **重要角色.${{角色名}}.法宝.${{法宝名}}.描述**：法宝的描述
15. **重要角色.${{角色名}}**：包含{{user}}和苏月珑

**分阶段角色设定说明：**
_[待填写]_

**动态世界内容说明：**
_[待填写]_

**HTML 状态栏显示需求：**
```
顶部为时间地点

首页tab为当前角色列表，然后重要角色每个人一个tab

不使用卡片布局
```

**其他特殊说明：**
_[待填写]_

**参考模板：** `MVU组件包/` 目录下的相关文件

---

## 创作进度跟踪

- [ ] 背景设定完成
- [ ] 角色设定完成
- [ ] 开场白完成
- [ ] 玩家角色完成
- [ ] MVU 组件包配置完成
- [ ] 编写打包配置文件
- [ ] 运行打包程序生成角色卡

---

## 📦 角色卡打包说明

完成所有创作内容后，需要使用打包程序将文件整合成 SillyTavern 可导入的角色卡 JSON 文件。

### 第一步：编写配置文件

在项目根目录创建一个 YAML 配置文件（例如：`我的白毛萝莉仙尊.yaml`），内容参考以下格式：

```yaml
# 基础信息
name: 我的白毛萝莉仙尊
creator: ""
character_version: ""

# 主要字段映射
# 对话补充等额外设定应该放入 character_book，而不是使用 mes_example
fields:
  description: 作品/我的白毛萝莉仙尊/角色设定_主角名.xyaml
  personality: ""
  scenario: ""
  first_mes: 作品/我的白毛萝莉仙尊/开场白.md
  mes_example: ""
  creator_notes: ""
  system_prompt: ""
  post_history_instructions: ""

# 扩展字段
extensions:
  talkativeness: "0.5"
  fav: false
  world: 我的白毛萝莉仙尊
  status_bar: 作品/我的白毛萝莉仙尊/状态栏.html  # 可选

# 脚本配置
scripts:
  # 变量结构设计脚本（Zod Schema）
  - name: "变量结构设计"
    content: 作品/我的白毛萝莉仙尊/变量结构.js
    enabled: true

# 角色书配置
character_book:
  name: 我的白毛萝莉仙尊
  entries:
    # [InitVar]初始化条目
    - comment: "[initvar]变量初始化"
      content: 作品/我的白毛萝莉仙尊/[initvar]变量初始化.xyaml
      enabled: false
      position: before_char
      insertion_order: 101
      depth: 4
      role: 0

    # 变量更新规则
    - comment: "[mvu_update]变量更新规则"
      content: 作品/我的白毛萝莉仙尊/[mvu_update]变量更新规则.xyaml
      enabled: true
      position: at_depth
      insertion_order: 1
      depth: 1
      role: 0

    # 变量列表
    - comment: "变量列表"
      content: 作品/我的白毛萝莉仙尊/变量列表.xyaml
      enabled: true
      position: at_depth
      insertion_order: 2
      depth: 1
      role: 0

    # 变量输出格式
    - comment: "[mvu_update]变量输出格式"
      content: 作品/我的白毛萝莉仙尊/[mvu_update]变量输出格式.xyaml
      enabled: true
      position: at_depth
      insertion_order: 3
      depth: 1
      role: 0

    # 背景设定
    - comment: "背景设定"
      content: 作品/我的白毛萝莉仙尊/背景设定.xyaml
      enabled: true
      position: before_char
      insertion_order: 1
      depth: 4
      role: 0

    # 玩家角色
    - comment: "玩家角色_{{user}}"
      content: 作品/我的白毛萝莉仙尊/玩家角色_{{user}}.xyaml
      enabled: true
      position: before_char
      insertion_order: 2
      depth: 4
      role: 0

    # 其他设定条目（可添加多个）
    - comment: "其他设定条目1"
      content: 作品/我的白毛萝莉仙尊/其他设定1.xyaml
      enabled: true
      position: after_char
      insertion_order: 1
      depth: 4
      role: 0
```

**配置说明：**

- `name`: 角色卡名称
- `fields`: 各个字段对应的文件路径，空字符串 `""` 表示该字段为空
- `extensions.status_bar`: 状态栏HTML文件路径（可选）
- `character_book.entries`: 角色书条目列表
  - `comment`: 条目名称
  - `content`: 条目内容对应的文件路径
  - `position`: 插入位置（`before_char`/`after_char`/`at_depth`）
  - `insertion_order`: 插入顺序（数字越小越靠前）
  - `depth`: 深度值（1-4）
  - `role`: 角色类型（0=系统，1=用户，2=AI）

**参考示例：** `config.example.yaml`

### 第二步：运行打包程序

确保已安装 Node.js 和依赖包，然后在项目根目录运行：

```bash
# 首次使用需要安装依赖
npm install

# 运行打包程序
node build-card.js 我的白毛萝莉仙尊.yaml
```

程序会自动读取配置文件，整合所有内容，生成 `我的白毛萝莉仙尊.json` 文件。

---

## 版本记录

**v1.0** - 2025-11-30 - 初始版本创建

---

> 💾 **提示**：建议使用 Git 进行版本管理，每完成一个重要阶段就提交一次，方便回溯和对比不同版本。
