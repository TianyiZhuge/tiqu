<head><script type="module">import{createPinia as e,defineStore as t,storeToRefs as a}from'https://testingcf.jsdelivr.net/npm/pinia/+esm';var n={262(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,n]of t)a[e]=n;return a}}},l={};const o=Vue;async function s(e,t={}){const{onSuccess:a,onError:n}=t;try{await window.TavernHelper.createChatMessages([{role:'user',message:e}]);const t=await window.TavernHelper.generate({user_input:e});return await window.TavernHelper.createChatMessages([{role:'assistant',message:t}]),a&&a(t),t}catch(e){throw console.error('[MessageService] å‘é€æ¶ˆæ¯å¤±è´¥:',e),n&&n(e),e}}async function c(e,t=[]){try{let a='';if(t.length>0){a='ã€å½“å‰å‰§æƒ…å›é¡¾ã€‘\n';t.slice(-10).forEach(e=>{'narration'===e.type?a+=e.content+'\n\n':'dialogue'===e.type?a+=`${e.speaker}ï¼š"${e.content}"\n\n`:'action'===e.type?a+=`*ç©å®¶è¡ŒåŠ¨ï¼š${e.content}*\n\n`:'system'===e.type&&(a+=`[ç³»ç»Ÿï¼š${e.content}]\n\n`)}),a+='ã€ç©å®¶å½“å‰è¡ŒåŠ¨ã€‘\n'}const n=a+e;return await window.TavernHelper.generate({user_input:n})}catch(e){throw console.error('[MessageService] å¸¦ä¸Šä¸‹æ–‡ç”Ÿæˆå¤±è´¥:',e),e}}function r(e){const t=[],a=/[ã€\[](é€‰é¡¹|é€‰æ‹©|è¡ŒåŠ¨)[ï¼š:]\s*([^\]ã€‘]+)[ã€‘\]]/g;let n;for(;null!==(n=a.exec(e));)t.push({label:n[2].trim(),action:n[2].trim()});if(0===t.length){const a=/^\s*(\d+)[\.ã€)]\s*(.+)$/gm;for(;null!==(n=a.exec(e));){const e=n[2].trim();e.length<30&&t.push({label:e,action:e})}}return t}function i(e){const t=e.match(/```json\s*([\s\S]*?)\s*```/);if(t)try{const e=JSON.parse(t[1]);if('battle'===e.type||e.enemies)return e}catch(e){console.warn('[MessageService] è§£ææˆ˜æ–—é…ç½®JSONå¤±è´¥:',e)}return e.includes('æˆ˜æ–—å¼€å§‹')||e.includes('é­é‡æ•Œäºº')?{type:'battle',trigger:'encounter'}:null}const d=t('game',()=>{const e=(0,o.ref)(!1),t=(0,o.ref)([{type:'narration',content:'*æ„è¯†é€æ¸æ¢å¤ï¼Œåˆºçœ¼çš„é˜³å…‰é€è¿‡çœ¼çš®ç…§å°„è¿›æ¥ã€‚*\n\nä½ èººåœ¨ä¸€ç‰‡è‰åœ°ä¸Šï¼Œå››å‘¨æ˜¯éƒéƒè‘±è‘±çš„æ£®æ—ã€‚è¿œå¤„ï¼Œä¸€åº§ä¸­ä¸–çºªé£æ ¼çš„åŸé•‡è‹¥éšè‹¥ç°ã€‚'},{type:'dialogue',speaker:'???',content:'ä½ é†’äº†ï¼Ÿ'},{type:'narration',content:'ä¸€ä¸ªå¹´è½»å¥³æ€§çš„å£°éŸ³ä»æ—è¾¹ä¼ æ¥ã€‚ä½ è½¬å¤´æœ›å»ï¼Œçœ‹åˆ°ä¸€ä½èº«ç©¿é“¶è‰²ç›”ç”²çš„å¥³éª‘å£«æ­£è¹²åœ¨ä½ èº«è¾¹ï¼Œç¥æƒ…ä¸­å¸¦ç€å…³åˆ‡å’Œå¥½å¥‡ã€‚'}]),a=(0,o.ref)([{label:'ä¸å¥¹å¯¹è¯',action:'å‘å¥¹è¯¢é—®è¿™æ˜¯å“ªé‡Œ'},{label:'æ£€æŸ¥å‘¨å›´',action:'è§‚å¯Ÿå››å‘¨ç¯å¢ƒ'},{label:'å°è¯•ç«™èµ·æ¥',action:'å°è¯•ä»åœ°ä¸Šç«™èµ·æ¥'}]),n=(0,o.ref)(null),l=(0,o.ref)({player:{name:'å†’é™©è€…',level:1,exp:0},resources:{gold:100,supplies:10},progress:{chapter:1,location:'æœªçŸ¥è‰åœ°',mainQuest:'è°ƒæŸ¥è‡ªå·±çš„å¤„å¢ƒ'}}),c=(0,o.ref)({commanders:[{id:'player',name:'{{user}}',portrait:null,attributes:{leadership:10,tactics:5,bravery:8},skills:[],unit:{type:'å‰‘å£«',currentCount:20,maxCount:30,atk:10,def:8,spd:5,hp:15}}]}),d=(0,o.computed)(()=>l.value.player.name),m=(0,o.computed)(()=>l.value.progress.location),u=(0,o.computed)(()=>l.value.resources.gold),p=(0,o.computed)(()=>l.value.resources.supplies),v=(0,o.computed)(()=>l.value.progress.chapter),V=e=>{t.value.push(e)},N=e=>{V({type:'narration',content:e})},g=e=>{V({type:'system',content:e})},f=e=>{a.value=e},E=()=>{a.value=[]},y=e=>{n.value=e},h=async t=>{if(!e.value){e.value=!0,E(),V({type:'action',content:t});try{const e=await s(t);N(e);const a=r(e);a.length>0&&f(a);const n=i(e);n&&y(n),k()}catch(e){console.error('[TelainRPG] æ‰§è¡Œè¡ŒåŠ¨å¤±è´¥:',e),g('æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•')}finally{e.value=!1}}},k=()=>{try{const e=window.SillyTavern?.getContext?.();e?.chatMetadata&&(e.chatMetadata.telainGameState={storyMessages:t.value,gameState:l.value,army:c.value},e.saveMetadata?.())}catch(e){console.warn('[TelainRPG] Failed to save to ST:',e)}};return{storyMessages:t,actionOptions:a,currentBattleConfig:n,gameState:l,army:c,isLoading:e,playerName:d,currentLocation:m,gold:u,supplies:p,chapter:v,addMessage:V,addNarration:N,addDialogue:(e,t)=>{V({type:'dialogue',speaker:e,content:t})},addSystemMessage:g,setActionOptions:f,clearActionOptions:E,setBattleConfig:y,clearBattleConfig:()=>{n.value=null},updateResources:e=>{void 0!==e.gold&&(l.value.resources.gold+=e.gold),void 0!==e.supplies&&(l.value.resources.supplies+=e.supplies)},updateLocation:e=>{l.value.progress.location=e},updateChapter:e=>{l.value.progress.chapter=e},executeAction:h,sendCustomInput:async t=>{!e.value&&t.trim()&&await h(t.trim())},saveToST:k,loadFromST:()=>{try{const e=window.SillyTavern?.getContext?.(),a=e?.chatMetadata?.telainGameState;if(a)return a.storyMessages&&(t.value=a.storyMessages),a.gameState&&(l.value=a.gameState),a.army&&(c.value=a.army),!0}catch(e){console.warn('[TelainRPG] Failed to load from ST:',e)}return!1}}}),m=t('ui',()=>{const e=(0,o.ref)('main'),t=(0,o.ref)(!1),a=(0,o.ref)(''),n=(0,o.ref)([]),l=(0,o.ref)([]),s=(0,o.ref)({enableSound:!0,enableVibration:!0,textSpeed:'normal',autoScroll:!0}),c=(0,o.computed)(()=>n.value.length>0),r=(0,o.computed)(()=>n.value.length>0?n.value[n.value.length-1]:null),i=e=>{const t=l.value.findIndex(t=>t.id===e);-1!==t&&l.value.splice(t,1)},d=()=>{try{localStorage.setItem('telain-rpg-settings',JSON.stringify(s.value))}catch(e){console.warn('[TelainRPG] Failed to save settings:',e)}},m=()=>{try{const e=localStorage.getItem('telain-rpg-settings');e&&(s.value={...s.value,...JSON.parse(e)})}catch(e){console.warn('[TelainRPG] Failed to load settings:',e)}};return m(),{currentTab:e,isLoading:t,loadingMessage:a,overlays:n,notifications:l,settings:s,hasActiveOverlay:c,topOverlay:r,setTab:t=>{e.value=t},setLoading:(e,n='')=>{t.value=e,a.value=n},pushOverlay:e=>{n.value.push({id:Date.now(),...e})},popOverlay:()=>{n.value.pop()},clearOverlays:()=>{n.value=[]},addNotification:e=>{const t=Date.now();return l.value.push({id:t,type:'info',duration:3e3,...e}),0!==e.duration&&setTimeout(()=>{i(t)},e.duration||3e3),t},removeNotification:i,updateSettings:e=>{s.value={...s.value,...e},d()},saveSettings:d,loadSettings:m}}),u={scroll:{paths:['M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4','M19 3H9a2 2 0 0 0-2 2v14']},sparkles:{paths:['m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z','m5 3v4','m19 17v4','m3 5h4','m17 19h4']},swords:{paths:['M14.5 17.5 3 6V3h3l11.5 11.5','M13 19l6-6','M16 16l4 4','M19 21l2-2','m14.5 6.5 6-6','m21 3-3 3','M3 21l2-2','M8 16l-5 5']},castle:{paths:['M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z','M18 11V4H6v7','M15 22v-4a3 3 0 0 0-3-3v0a3 3 0 0 0-3 3v4','M22 11V9','M2 11V9','M6 4V2','M18 4V2','M10 4V2','M14 4V2']},trendingUp:{paths:['m22 7-8.5 8.5-5-5L2 17','M16 7h6v6']},coins:{paths:['M12 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z','M12 20a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z','M12 12v8']},box:{paths:['M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z','M3.3 7 12 12l8.7-5','M12 22V12']},mapPin:{paths:['M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z','M12 10a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z']},sword:{paths:['m14.5 12.5-5 5','M3 21l1.5-1.5','M6.5 17.5l1.5-1.5','M15 6l-4.5 4.5','m22 2-8 8','M22 2 L12 12']},shield:{paths:['M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10']},heart:{paths:['M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z']},skull:{paths:['M12 1a8 8 0 0 0-8 8c0 3.5 1.4 5.4 4 8v5h8v-5c2.6-2.6 4-4.5 4-8a8 8 0 0 0-8-8Z','M9 15v2','M15 15v2','M9 11h.01','M15 11h.01']},zap:{paths:['M13 2 L3 14h9l-1 8 10-12h-9l1-8z']},menu:{paths:['M4 12h16','M4 6h16','M4 18h16']},x:{paths:['M18 6 6 18','m6 6 12 12']},check:{paths:['M20 6 9 17l-5-5']},plus:{paths:['M12 5v14','M5 12h14']},minus:{paths:['M5 12h14']},arrowLeft:{paths:['m12 19-7-7 7-7','M19 12H5']},arrowRight:{paths:['m12 5 7 7-7 7','M5 12h14']},arrowUp:{paths:['m5 12 7-7 7 7','M12 19V5']},arrowDown:{paths:['m19 12-7 7-7-7','M12 5v14']},chevronDown:{paths:['m6 9 6 6 6-6']},chevronUp:{paths:['m18 15-6-6-6 6']},chevronRight:{paths:['m9 18 6-6-6-6']},chevronLeft:{paths:['m15 18-6-6 6-6']},settings:{paths:['M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z','M12 12a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z']},info:{paths:['M12 12a10 10 0 1 0 0-20 10 10 0 0 0 0 20Z','M12 16v-4','M12 8h.01'],circles:[{cx:12,cy:12,r:10}]},alertTriangle:{paths:['m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z','M12 9v4','M12 17h.01']},user:{paths:['M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2'],circles:[{cx:12,cy:7,r:4}]},users:{paths:['M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2','M22 21v-2a4 4 0 0 0-3-3.87','M16 3.13a4 4 0 0 1 0 7.75'],circles:[{cx:9,cy:7,r:4}]},star:{paths:['M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z']},crown:{paths:['M2 4v16h20V4l-5 5-5-5-5 5-5-5Z','M2 20h20']},flag:{paths:['M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z','M4 22v-7']},send:{paths:['m22 2-7 20-4-9-9-4Z','m22 2-11 11']},refreshCw:{paths:['M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8','M21 3v5h-5','M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16','M3 21v-5h5']},eye:{paths:['M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z'],circles:[{cx:12,cy:12,r:3}]},edit:{paths:['M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7','M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z']},trash:{paths:['M3 6h18','M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6','M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2','M10 11v6','M14 11v6']},diamond:{paths:['M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z']},book:{paths:['M4 19.5A2.5 2.5 0 0 1 6.5 17H20','M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z']},map:{paths:['M3 6l6-3 6 3 6-3v15l-6 3-6-3-6 3z','M9 3v15','M15 6v15']},compass:{paths:['M16.24 7.76l-6.64 3.08-1.2-1.2','M12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20Z','m14.31 8 5.74 9.94','M9.69 8 3.95 17.94','M7.76 16.24l6.34-6.34-1.2-1.2'],polygons:[{points:'16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88'}]},trophy:{paths:['M6 9H4.5a2.5 2.5 0 0 1 0-5H6','M18 9h1.5a2.5 2.5 0 0 0 0-5H18','M4 22h16','M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22','M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22','M18 2H6v7a6 6 0 0 0 12 0V2Z']},flame:{paths:['M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z']},loader:{paths:['M12 2v4','M12 18v4','m4.93 4.93 2.83 2.83','m16.24 16.24 2.83 2.83','M2 12h4','M18 12h4','m4.93 19.07 2.83-2.83','m16.24 7.76 2.83-2.83']}},p=['width','height','stroke','stroke-width'],v=['d'],V=['cx','cy','r'],N=['points'],g=['x','y','width','height','rx'],f={__name:'Icon',props:{name:{type:String,required:!0},size:{type:String,default:'md',validator:e=>['xs','sm','md','lg','xl','2xl'].includes(e)},color:{type:String,default:'currentColor'},strokeWidth:{type:[Number,String],default:2},spin:{type:Boolean,default:!1}},setup(e){const t=e,a={xs:12,sm:16,md:20,lg:24,xl:32,'2xl':40},n=(0,o.computed)(()=>a[t.size]||20),l=(0,o.computed)(()=>t.color),s=(0,o.computed)(()=>{const e=u[t.name];return e?{paths:e.paths||[],circles:e.circles||[],polygons:e.polygons||[],rects:e.rects||[]}:(console.warn(`[Icon] Unknown icon: ${t.name}`),{paths:[],circles:[],polygons:[],rects:[]})});return(t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('svg',(0,o.mergeProps)({class:['icon-svg',[`icon-${e.size}`,{'icon-spin':e.spin}]],width:n.value,height:n.value,viewBox:'0 0 24 24',fill:'none',stroke:l.value,'stroke-width':e.strokeWidth,'stroke-linecap':'round','stroke-linejoin':'round'},t.$attrs),[(0,o.createCommentVNode)(' Paths '),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(s.value.paths,(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('path',{key:`path-${t}`,d:e},null,8,v))),128)),(0,o.createCommentVNode)(' Circles '),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(s.value.circles,(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('circle',{key:`circle-${t}`,cx:e.cx,cy:e.cy,r:e.r},null,8,V))),128)),(0,o.createCommentVNode)(' Polygons '),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(s.value.polygons,(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('polygon',{key:`polygon-${t}`,points:e.points},null,8,N))),128)),(0,o.createCommentVNode)(' Rectangles '),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(s.value.rects,(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('rect',{key:`rect-${t}`,x:e.x,y:e.y,width:e.width,height:e.height,rx:e.rx},null,8,g))),128))],16,p))}};var E=function e(t){var a=l[t];if(void 0!==a)return a.exports;var o=l[t]={exports:{}};return n[t](o,o.exports,e),o.exports}(262);const y=(0,E.A)(f,[['__scopeId','data-v-510026f9']]),h={class:'top-info-bar'},k={class:'info-bar-content'},b={class:'info-item location'},C={class:'info-text'},B={class:'info-item chapter'},M={class:'chapter-badge'},w={class:'info-resources'},x=['title'],S={class:'resource-value'},T=['title'],L={class:'resource-value'},D={__name:'TopInfoBar',emits:['openSettings'],setup(e){const t=d(),{currentLocation:n,gold:l,supplies:s,chapter:c}=a(t),r=e=>e>=1e6?(e/1e6).toFixed(1)+'M':e>=1e3?(e/1e3).toFixed(1)+'K':e.toString();return(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('header',h,[(0,o.createCommentVNode)(' Glass background '),t[3]||(t[3]=(0,o.createElementVNode)('div',{class:'bar-glass'},null,-1)),(0,o.createElementVNode)('div',k,[(0,o.createCommentVNode)(' Location '),(0,o.createElementVNode)('div',b,[(0,o.createVNode)((0,o.unref)(y),{name:'mapPin',size:'sm',class:'info-icon'}),(0,o.createElementVNode)('span',C,(0,o.toDisplayString)((0,o.unref)(n)),1)]),(0,o.createCommentVNode)(' Chapter badge '),(0,o.createElementVNode)('div',B,[(0,o.createElementVNode)('span',M,[(0,o.createVNode)((0,o.unref)(y),{name:'book',size:'xs',class:'chapter-icon'}),(0,o.createElementVNode)('span',null,(0,o.toDisplayString)((0,o.unref)(c)),1)])]),(0,o.createCommentVNode)(' Spacer '),t[2]||(t[2]=(0,o.createElementVNode)('div',{class:'info-spacer'},null,-1)),(0,o.createCommentVNode)(' Resources '),(0,o.createElementVNode)('div',w,[(0,o.createElementVNode)('div',{class:'resource-item gold',title:`é‡‘å¸: ${(0,o.unref)(l)}`},[(0,o.createVNode)((0,o.unref)(y),{name:'coins',size:'sm',class:'resource-icon'}),(0,o.createElementVNode)('span',S,(0,o.toDisplayString)(r((0,o.unref)(l))),1)],8,x),t[1]||(t[1]=(0,o.createElementVNode)('div',{class:'resource-divider'},null,-1)),(0,o.createElementVNode)('div',{class:'resource-item supplies',title:`è¡¥ç»™: ${(0,o.unref)(s)}`},[(0,o.createVNode)((0,o.unref)(y),{name:'box',size:'sm',class:'resource-icon'}),(0,o.createElementVNode)('span',L,(0,o.toDisplayString)(r((0,o.unref)(s))),1)],8,T)]),(0,o.createCommentVNode)(' Settings button '),(0,o.createElementVNode)('button',{class:'settings-btn',onClick:t[0]||(t[0]=t=>e.$emit('openSettings')),title:'è®¾ç½®'},[(0,o.createVNode)((0,o.unref)(y),{name:'settings',size:'sm'})])]),(0,o.createCommentVNode)(' Decorative bottom border '),t[4]||(t[4]=(0,o.createStaticVNode)('<div class="bar-decoration" data-v-f13ec036><svg viewBox="0 0 200 12" preserveAspectRatio="none" data-v-f13ec036><defs data-v-f13ec036><linearGradient id="gold-gradient" x1="0%" y1="0%" x2="100%" y2="0%" data-v-f13ec036><stop offset="0%" style="stop-color:transparent;" data-v-f13ec036></stop><stop offset="20%" style="stop-color:#8B6914;" data-v-f13ec036></stop><stop offset="50%" style="stop-color:#D4AF37;" data-v-f13ec036></stop><stop offset="80%" style="stop-color:#8B6914;" data-v-f13ec036></stop><stop offset="100%" style="stop-color:transparent;" data-v-f13ec036></stop></linearGradient></defs><path d="M0,0 L80,0 Q90,0 95,10 L100,12 L105,10 Q110,0 120,0 L200,0" fill="none" stroke="url(#gold-gradient)" stroke-width="1.5" data-v-f13ec036></path>\x3c!-- Center diamond --\x3e<path d="M96,6 L100,2 L104,6 L100,10 Z" fill="#D4AF37" class="center-diamond" data-v-f13ec036></path></svg></div>',1))]))}},A=(0,E.A)(D,[['__scopeId','data-v-f13ec036']]),P={class:'bottom-nav-bar'},I={class:'nav-items'},H=['onClick'],F={class:'nav-icon-wrapper'},O={key:0,class:'nav-icon-glow'},R={class:'nav-label'},G={key:0,class:'active-indicator'},Z={__name:'BottomNavBar',props:{modelValue:{type:String,default:'main'}},emits:['update:modelValue'],setup(e,{emit:t}){const a=t,n=(0,o.ref)([{id:'main',icon:'scroll',label:'ä¸»ç•Œé¢'},{id:'training',icon:'sparkles',label:'è°ƒæ•™'},{id:'conquest',icon:'swords',label:'å¾æœ'},{id:'formation',icon:'castle',label:'ç¼–åˆ¶'},{id:'development',icon:'trendingUp',label:'å‘å±•'}]);return(t,l)=>((0,o.openBlock)(),(0,o.createElementBlock)('nav',P,[(0,o.createCommentVNode)(' Glass background '),l[1]||(l[1]=(0,o.createElementVNode)('div',{class:'bar-glass'},null,-1)),(0,o.createCommentVNode)(' Decorative top border '),l[2]||(l[2]=(0,o.createStaticVNode)('<div class="bar-decoration" data-v-9025e9a0><svg viewBox="0 0 200 12" preserveAspectRatio="none" data-v-9025e9a0><defs data-v-9025e9a0><linearGradient id="gold-gradient-bottom" x1="0%" y1="0%" x2="100%" y2="0%" data-v-9025e9a0><stop offset="0%" style="stop-color:transparent;" data-v-9025e9a0></stop><stop offset="20%" style="stop-color:#8B6914;" data-v-9025e9a0></stop><stop offset="50%" style="stop-color:#D4AF37;" data-v-9025e9a0></stop><stop offset="80%" style="stop-color:#8B6914;" data-v-9025e9a0></stop><stop offset="100%" style="stop-color:transparent;" data-v-9025e9a0></stop></linearGradient></defs><path d="M0,12 L80,12 Q90,12 95,2 L100,0 L105,2 Q110,12 120,12 L200,12" fill="none" stroke="url(#gold-gradient-bottom)" stroke-width="1.5" data-v-9025e9a0></path>\x3c!-- Center diamond --\x3e<path d="M96,6 L100,2 L104,6 L100,10 Z" fill="#D4AF37" class="center-diamond" data-v-9025e9a0></path></svg></div>',1)),(0,o.createCommentVNode)(' Navigation items '),(0,o.createElementVNode)('div',I,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(n.value,t=>((0,o.openBlock)(),(0,o.createElementBlock)('button',{key:t.id,class:(0,o.normalizeClass)(['nav-item',{active:e.modelValue===t.id}]),onClick:e=>{return n=t.id,void a('update:modelValue',n);var n}},[(0,o.createCommentVNode)(' Icon container with glow effect '),(0,o.createElementVNode)('span',F,[e.modelValue===t.id?((0,o.openBlock)(),(0,o.createElementBlock)('span',O)):(0,o.createCommentVNode)('v-if',!0),(0,o.createVNode)((0,o.unref)(y),{name:t.icon,size:'lg',class:'nav-icon'},null,8,['name'])]),(0,o.createCommentVNode)(' Label '),(0,o.createElementVNode)('span',R,(0,o.toDisplayString)(t.label),1),(0,o.createCommentVNode)(' Active indicator '),(0,o.createVNode)(o.Transition,{name:'indicator'},{default:(0,o.withCtx)(()=>[e.modelValue===t.id?((0,o.openBlock)(),(0,o.createElementBlock)('div',G,[...l[0]||(l[0]=[(0,o.createElementVNode)('div',{class:'indicator-line'},null,-1)])])):(0,o.createCommentVNode)('v-if',!0)]),_:2},1024)],10,H))),128))])]))}},U=(0,E.A)(Z,[['__scopeId','data-v-9025e9a0']]),q={class:'gold-border-container'},j={class:'gold-border-content'};const Q={},J=(0,E.A)(Q,[['render',function(e,t){return(0,o.openBlock)(),(0,o.createElementBlock)('div',q,[t[0]||(t[0]=(0,o.createElementVNode)('div',{class:'border-decoration top-left'},null,-1)),t[1]||(t[1]=(0,o.createElementVNode)('div',{class:'border-decoration top-right'},null,-1)),t[2]||(t[2]=(0,o.createElementVNode)('div',{class:'border-decoration bottom-left'},null,-1)),t[3]||(t[3]=(0,o.createElementVNode)('div',{class:'border-decoration bottom-right'},null,-1)),(0,o.createElementVNode)('div',j,[(0,o.renderSlot)(e.$slots,'default',{},void 0,!0)])])}],['__scopeId','data-v-174e1afc']]),K=['disabled'],W={key:0,class:'button-loading'},X={class:'button-content'},Y={__name:'MagicButton',props:{variant:{type:String,default:'default',validator:e=>['default','primary','battle','small','ghost'].includes(e)},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:['click'],setup(e,{emit:t}){const a=e,n=t,l=e=>{a.disabled||a.loading||n('click',e)};return(t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('button',{class:(0,o.normalizeClass)(['magic-button',[e.variant,{disabled:e.disabled,loading:e.loading}]]),disabled:e.disabled||e.loading,onClick:l},[e.loading?((0,o.openBlock)(),(0,o.createElementBlock)('span',W,[...a[0]||(a[0]=[(0,o.createElementVNode)('span',{class:'loading-spinner'},null,-1)])])):(0,o.createCommentVNode)('v-if',!0),(0,o.createElementVNode)('span',X,[(0,o.renderSlot)(t.$slots,'default')]),a[1]||(a[1]=(0,o.createElementVNode)('span',{class:'button-glow'},null,-1))],10,K))}},ee=(0,E.A)(Y,[['__scopeId','data-v-42a6b8fe']]),te={__name:'LoadingMagicCircle',props:{size:{type:String,default:'medium',validator:e=>['small','medium','large'].includes(e)}},setup:e=>(t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{class:(0,o.normalizeClass)(['loading-magic-circle',e.size])},[...a[0]||(a[0]=[(0,o.createStaticVNode)('<div class="circle-outer" data-v-1d6ad6a4><div class="rune rune-1" data-v-1d6ad6a4>âœ§</div><div class="rune rune-2" data-v-1d6ad6a4>âœ¦</div><div class="rune rune-3" data-v-1d6ad6a4>âœ§</div><div class="rune rune-4" data-v-1d6ad6a4>âœ¦</div></div><div class="circle-inner" data-v-1d6ad6a4><div class="core-glow" data-v-1d6ad6a4></div></div>',2)])],2))},ae=(0,E.A)(te,[['__scopeId','data-v-1d6ad6a4']]),ne={class:'card-content'},le={class:'portrait-area'},oe={key:0,class:'unit-icon'},se={key:0,class:'defeated-overlay'},ce={key:1,class:'defending-badge'},re={class:'info-area'},ie={class:'unit-name'},de={class:'unit-stats'},me={class:'stat atk'},ue={class:'stat def'},pe={class:'stat spd'},ve={class:'unit-type'},Ve={class:'hp-bar'},Ne={key:0,class:'turn-indicator'},ge={__name:'UnitCard',props:{unit:{type:Object,required:!0},isEnemy:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},isCurrentTurn:{type:Boolean,default:!1},isSelectable:{type:Boolean,default:!1}},emits:['click'],setup(e){const t=e,a={å‰‘å£«:'âš”ï¸',å¼“ç®­æ‰‹:'ğŸ¹',éª‘å…µ:'ğŸ´',æ³•å¸ˆ:'ğŸ”®',ç‰§å¸ˆ:'âœ¨',å“¥å¸ƒæ—:'ğŸ‘¹',åº§ç‹¼:'ğŸº',å…½äºº:'ğŸ‘º',éª·é«…å…µ:'ğŸ’€',æš—å½±åˆºå®¢:'ğŸ—¡ï¸'},n=(0,o.computed)(()=>a[t.unit.unit?.type]||'ğŸ‘¤'),l=(0,o.computed)(()=>'frame-normal'),s=(0,o.computed)(()=>{const{currentCount:e,maxCount:a}=t.unit.unit||{};return e&&a?Math.round(e/a*100):100}),c=(0,o.computed)(()=>{const e=s.value;return e<=30?'critical':e<=60?'warning':'healthy'});return(t,a)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{class:(0,o.normalizeClass)(['unit-card',{enemy:e.isEnemy,ally:!e.isEnemy,active:e.isActive,'current-turn':e.isCurrentTurn,defeated:e.unit.isDefeated,selectable:e.isSelectable}]),onClick:a[0]||(a[0]=e=>t.$emit('click'))},[(0,o.createCommentVNode)(' Card Border '),(0,o.createElementVNode)('div',{class:(0,o.normalizeClass)(['card-border',l.value])},[(0,o.createCommentVNode)(' Corner Ornaments '),a[1]||(a[1]=(0,o.createElementVNode)('div',{class:'corner-ornament top-left'},'âšœï¸',-1)),a[2]||(a[2]=(0,o.createElementVNode)('div',{class:'corner-ornament top-right'},'âšœï¸',-1)),a[3]||(a[3]=(0,o.createElementVNode)('div',{class:'corner-ornament bottom-left'},'âšœï¸',-1)),a[4]||(a[4]=(0,o.createElementVNode)('div',{class:'corner-ornament bottom-right'},'âšœï¸',-1))],2),(0,o.createCommentVNode)(' Card Content '),(0,o.createElementVNode)('div',ne,[(0,o.createCommentVNode)(' Portrait Area '),(0,o.createElementVNode)('div',le,[(0,o.createElementVNode)('div',{class:'portrait',style:(0,o.normalizeStyle)({backgroundImage:e.unit.portrait?`url(${e.unit.portrait})`:'none'})},[(0,o.createCommentVNode)(' Unit Icon (when no portrait) '),e.unit.portrait?(0,o.createCommentVNode)('v-if',!0):((0,o.openBlock)(),(0,o.createElementBlock)('span',oe,(0,o.toDisplayString)(n.value),1))],4),(0,o.createCommentVNode)(' Defeated Overlay '),e.unit.isDefeated?((0,o.openBlock)(),(0,o.createElementBlock)('div',se,[...a[5]||(a[5]=[(0,o.createElementVNode)('span',null,'å‡»è´¥',-1)])])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' Defending Badge '),e.unit.isDefending?((0,o.openBlock)(),(0,o.createElementBlock)('div',ce,[...a[6]||(a[6]=[(0,o.createElementVNode)('span',null,'ğŸ›¡ï¸',-1)])])):(0,o.createCommentVNode)('v-if',!0)]),(0,o.createCommentVNode)(' Info Area '),(0,o.createElementVNode)('div',re,[(0,o.createCommentVNode)(' Name '),(0,o.createElementVNode)('div',ie,(0,o.toDisplayString)(e.unit.name),1),(0,o.createCommentVNode)(' Stats '),(0,o.createElementVNode)('div',de,[(0,o.createElementVNode)('span',me,'æ”»'+(0,o.toDisplayString)(e.unit.unit.atk),1),(0,o.createElementVNode)('span',ue,'é˜²'+(0,o.toDisplayString)(e.unit.unit.def),1),(0,o.createElementVNode)('span',pe,'é€Ÿ'+(0,o.toDisplayString)(e.unit.unit.spd),1)]),(0,o.createCommentVNode)(' Unit Type and Count '),(0,o.createElementVNode)('div',ve,' ['+(0,o.toDisplayString)(e.unit.unit.type)+'Ã—'+(0,o.toDisplayString)(e.unit.unit.currentCount)+'] ',1),(0,o.createCommentVNode)(' HP Bar '),(0,o.createElementVNode)('div',Ve,[(0,o.createElementVNode)('div',{class:(0,o.normalizeClass)(['hp-fill',c.value]),style:(0,o.normalizeStyle)({width:`${s.value}%`})},null,6)])])]),(0,o.createCommentVNode)(' Current Turn Indicator '),(0,o.createVNode)(o.Transition,{name:'turn-indicator'},{default:(0,o.withCtx)(()=>[e.isCurrentTurn?((0,o.openBlock)(),(0,o.createElementBlock)('div',Ne,[...a[7]||(a[7]=[(0,o.createElementVNode)('span',{class:'indicator-arrow'},'â–²',-1),(0,o.createElementVNode)('span',{class:'indicator-text'},'è¡ŒåŠ¨ä¸­',-1)])])):(0,o.createCommentVNode)('v-if',!0)]),_:1})],2))}},fe=(0,E.A)(ge,[['__scopeId','data-v-789af309']]),Ee={class:'divider-ornament'},ye={__name:'OrnamentDivider',props:{type:{type:String,default:'normal',validator:e=>['normal','top','bottom','simple'].includes(e)}},setup(e){const t=e,a=(0,o.computed)(()=>({normal:'â—†',top:'â–¼',bottom:'â–²',simple:'â—'}[t.type]));return(t,n)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{class:(0,o.normalizeClass)(['ornament-divider',e.type])},[n[0]||(n[0]=(0,o.createElementVNode)('span',{class:'divider-line left'},null,-1)),(0,o.createElementVNode)('span',Ee,(0,o.toDisplayString)(a.value),1),n[1]||(n[1]=(0,o.createElementVNode)('span',{class:'divider-line right'},null,-1))],2))}},he=(0,E.A)(ye,[['__scopeId','data-v-73323c0e']]),ke={class:'battle-log'},be={class:'log-header'},Ce={class:'log-message'},Be={__name:'BattleLog',props:{logs:{type:Array,default:()=>[]}},setup(e){const t=e,a=(0,o.ref)(null);return(0,o.watch)(()=>t.logs.length,()=>{(0,o.nextTick)(()=>{a.value&&(a.value.scrollTop=a.value.scrollHeight)})}),(t,n)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',ke,[(0,o.createElementVNode)('div',be,[(0,o.createVNode)(he,{type:'simple'}),n[0]||(n[0]=(0,o.createElementVNode)('span',{class:'log-title'},'æˆ˜æ–—æ—¥å¿—',-1)),(0,o.createVNode)(he,{type:'simple'})]),(0,o.createElementVNode)('div',{ref_key:'logContainer',ref:a,class:'log-content'},[(0,o.createVNode)(o.TransitionGroup,{name:'log-item'},{default:(0,o.withCtx)(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.logs,e=>((0,o.openBlock)(),(0,o.createElementBlock)('div',{key:e.id,class:(0,o.normalizeClass)(['log-entry',e.type])},[n[1]||(n[1]=(0,o.createElementVNode)('span',{class:'log-prefix'},'>',-1)),(0,o.createElementVNode)('span',Ce,(0,o.toDisplayString)(e.message),1)],2))),128))]),_:1})],512)]))}},Me=(0,E.A)(Be,[['__scopeId','data-v-554b1c6d']]),we={class:'action-menu'},xe={key:0,class:'action-buttons'},Se={key:1,class:'target-selection'},_e={__name:'ActionMenu',props:{currentUnit:{type:Object,default:null},isSelectingTarget:{type:Boolean,default:!1}},emits:['attack','defend','skill','retreat','cancel'],setup(e){const t=e,a=(0,o.computed)(()=>t.currentUnit?.skills?.length>0);return(t,n)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',we,[e.isSelectingTarget?((0,o.openBlock)(),(0,o.createElementBlock)('div',Se,[n[10]||(n[10]=(0,o.createElementVNode)('div',{class:'selection-prompt'},[(0,o.createElementVNode)('span',{class:'prompt-icon'},'ğŸ¯'),(0,o.createElementVNode)('span',{class:'prompt-text'},'é€‰æ‹©æ”»å‡»ç›®æ ‡')],-1)),(0,o.createVNode)(ee,{variant:'ghost',onClick:n[4]||(n[4]=e=>t.$emit('cancel'))},{default:(0,o.withCtx)(()=>[...n[9]||(n[9]=[(0,o.createTextVNode)(' å–æ¶ˆ ',-1)])]),_:1})])):((0,o.openBlock)(),(0,o.createElementBlock)('div',xe,[(0,o.createVNode)(ee,{onClick:n[0]||(n[0]=e=>t.$emit('attack'))},{default:(0,o.withCtx)(()=>[...n[5]||(n[5]=[(0,o.createElementVNode)('span',{class:'action-icon'},'âš”ï¸',-1),(0,o.createTextVNode)(' æ”»å‡» ',-1)])]),_:1}),(0,o.createVNode)(ee,{onClick:n[1]||(n[1]=e=>t.$emit('defend'))},{default:(0,o.withCtx)(()=>[...n[6]||(n[6]=[(0,o.createElementVNode)('span',{class:'action-icon'},'ğŸ›¡ï¸',-1),(0,o.createTextVNode)(' é˜²å¾¡ ',-1)])]),_:1}),(0,o.createVNode)(ee,{onClick:n[2]||(n[2]=e=>t.$emit('skill')),disabled:!a.value},{default:(0,o.withCtx)(()=>[...n[7]||(n[7]=[(0,o.createElementVNode)('span',{class:'action-icon'},'âœ¨',-1),(0,o.createTextVNode)(' æŠ€èƒ½ ',-1)])]),_:1},8,['disabled']),(0,o.createVNode)(ee,{variant:'ghost',onClick:n[3]||(n[3]=e=>t.$emit('retreat'))},{default:(0,o.withCtx)(()=>[...n[8]||(n[8]=[(0,o.createElementVNode)('span',{class:'action-icon'},'ğŸƒ',-1),(0,o.createTextVNode)(' æ’¤é€€ ',-1)])]),_:1})]))]))}},ze=(0,E.A)(_e,[['__scopeId','data-v-bc86c076']]),Te=t('battle',()=>{const e=(0,o.ref)(!1),t=(0,o.ref)(0),a=(0,o.ref)('idle'),n=(0,o.ref)([]),l=(0,o.ref)([]),s=(0,o.ref)(0),c=(0,o.ref)([]),r=(0,o.ref)([]),i=(0,o.ref)(null),d=(0,o.computed)(()=>0===c.value.length?null:c.value[s.value]),m=(0,o.computed)(()=>!!d.value&&!d.value.isEnemy),u=(0,o.computed)(()=>{const e=n.value.filter(e=>!e.isDefeated),t=l.value.filter(e=>!e.isDefeated);return 0===e.length||0===t.length}),p=(0,o.computed)(()=>{if(!u.value)return null;return 0===l.value.filter(e=>!e.isDefeated).length}),v=o=>{i.value=o,t.value=1,a.value='player_turn',r.value=[],n.value=(o.allies||[]).map((e,t)=>({...e,id:`ally_${t}`,isEnemy:!1,isDefeated:!1,isDefending:!1})),l.value=(o.enemies||[]).map((e,t)=>({...e,id:`enemy_${t}`,isEnemy:!0,isDefeated:!1,isDefending:!1})),V(),E('system',`æˆ˜æ–—å¼€å§‹ï¼å›åˆ ${t.value}`),e.value=!0},V=()=>{const e=[...n.value.filter(e=>!e.isDefeated),...l.value.filter(e=>!e.isDefeated)];c.value=e.sort((e,t)=>t.unit.spd-e.unit.spd),s.value=0},N=()=>{s.value++,s.value>=c.value.length&&(t.value++,s.value=0,V(),E('system',`å›åˆ ${t.value} å¼€å§‹`)),d.value&&(a.value=d.value.isEnemy?'enemy_turn':'player_turn'),u.value&&(a.value='battle_end')},g=(e,t)=>{const a=e.unit.atk*e.unit.currentCount;let n=t.unit.def;t.isDefending&&(n=Math.floor(1.5*n));const l=Math.max(1,a-2*n),o=.1*l;return Math.floor(l+(Math.random()*o*2-o))},f=(e,t)=>{const a=e.unit.hp||15,n=Math.ceil(t/a),l=Math.min(n,e.unit.currentCount);return e.unit.currentCount-=l,l},E=(e,a)=>{r.value.push({id:Date.now(),type:e,message:a,turn:t.value})};return{isBattleActive:e,currentTurn:t,battlePhase:a,allies:n,enemies:l,turnOrder:c,battleLogs:r,battleConfig:i,currentUnit:d,isPlayerTurn:m,isBattleOver:u,isVictory:p,initBattle:v,startBattle:e=>{v(e)},pauseBattle:()=>{},endBattle:t=>{e.value=!1,a.value='idle'},executeAttack:(e,t)=>{if(!e||!t)return;const a=g(e,t),n=f(t,a);E('combat',`${e.name}ã€${e.unit.type}Ã—${e.unit.currentCount}ã€‘æ”»å‡»${t.name}ã€${t.unit.type}ã€‘ï¼Œé€ æˆ ${a} ä¼¤å®³ï¼Œå‡»æ€ ${n} äºº`),t.unit.currentCount<=0&&(t.isDefeated=!0,E('system',`${t.name} è¢«å‡»è´¥ï¼`)),N()},executeDefend:e=>{e&&(e.isDefending=!0,E('combat',`${e.name} é€‰æ‹©é˜²å¾¡ï¼Œé˜²å¾¡åŠ›æå‡50%`),N())},nextTurn:N,addLog:E,getBattleResult:()=>({victory:p.value,turns:t.value,allySurvivors:n.value.filter(e=>!e.isDefeated).map(e=>({name:e.name,remaining:e.unit.currentCount})),enemiesDefeated:l.value.filter(e=>e.isDefeated).map(e=>e.name),logs:r.value}),resetBattle:()=>{e.value=!1,t.value=0,a.value='idle',n.value=[],l.value=[],c.value=[],r.value=[],i.value=null}}}),Le={class:'battle-panel-overlay'},De={class:'battle-panel'},Ae={class:'battle-header'},$e={class:'battle-title'},Pe={class:'battle-body'},Ie={class:'enemy-section'},He={class:'units-row'},Fe={class:'battle-log-section'},Oe={class:'ally-section'},Re={class:'units-row'},Ge={class:'battle-footer'},Ze={key:1,class:'battle-result'},Ue={key:0,class:'result-victory'},qe={key:1,class:'result-defeat'},je={key:2,class:'enemy-turn-indicator'},Qe={__name:'BattlePanel',props:{battleConfig:{type:Object,required:!0}},emits:['close','complete'],setup(e,{emit:t}){const n=e,l=t,s=Te(),{enemies:c,allies:r,currentTurn:i,currentUnit:d,battleLogs:m,isPlayerTurn:u,isBattleOver:p,isVictory:v}=a(s),V=(0,o.ref)(!1),N=(0,o.ref)(null),g=()=>{V.value=!0},f=()=>{V.value=!1,N.value=null},E=()=>{s.executeDefend(d.value),p.value||u.value||y()},y=async()=>{for(await new Promise(e=>setTimeout(e,800));!u.value&&!p.value;){const e=d.value;if(!e||e.isDefeated){s.nextTurn();continue}const t=r.value.filter(e=>!e.isDefeated);if(!(t.length>0))break;{const a=t[Math.floor(Math.random()*t.length)];await new Promise(e=>setTimeout(e,500)),s.executeAttack(e,a)}await new Promise(e=>setTimeout(e,300))}},h=()=>{console.log('Skill menu not yet implemented')},k=()=>{confirm('ç¡®å®šè¦æ’¤é€€å—ï¼Ÿ')&&l('complete',{victory:!1,retreated:!0})},b=()=>{l('complete',s.getBattleResult())};return(0,o.onMounted)(()=>{s.initBattle(n.battleConfig)}),(0,o.watch)(p,e=>{e&&s.addLog('system',v.value?'æˆ˜æ–—èƒœåˆ©ï¼':'æˆ˜æ–—å¤±è´¥...')}),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',Le,[(0,o.createElementVNode)('div',De,[(0,o.createCommentVNode)(' Battle Header '),(0,o.createElementVNode)('header',Ae,[(0,o.createVNode)(J,{class:'header-content'},{default:(0,o.withCtx)(()=>[(0,o.createElementVNode)('h2',$e,[t[1]||(t[1]=(0,o.createElementVNode)('span',{class:'title-ornament'},'âš”ï¸',-1)),(0,o.createTextVNode)(' æˆ˜æ–— - å›åˆ '+(0,o.toDisplayString)((0,o.unref)(i))+' ',1),t[2]||(t[2]=(0,o.createElementVNode)('span',{class:'title-ornament'},'âš”ï¸',-1))])]),_:1})]),(0,o.createCommentVNode)(' Battle Body '),(0,o.createElementVNode)('main',Pe,[(0,o.createCommentVNode)(' Enemy Section '),(0,o.createElementVNode)('section',Ie,[t[3]||(t[3]=(0,o.createElementVNode)('div',{class:'section-label'},'æ•Œæ–¹é˜µè¥',-1)),(0,o.createElementVNode)('div',He,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(c),e=>((0,o.openBlock)(),(0,o.createBlock)(fe,{key:e.id,unit:e,'is-enemy':!0,'is-active':(0,o.unref)(d)?.id===e.id,'is-selectable':V.value&&!e.isDefeated,onClick:t=>{return a=e,void(V.value&&!a.isDefeated&&(N.value=a,s.executeAttack(d.value,a),f(),p.value||u.value||y()));var a}},null,8,['unit','is-active','is-selectable','onClick']))),128))])]),(0,o.createCommentVNode)(' Battle Log '),(0,o.createElementVNode)('section',Fe,[(0,o.createVNode)(Me,{logs:(0,o.unref)(m)},null,8,['logs'])]),(0,o.createCommentVNode)(' Ally Section '),(0,o.createElementVNode)('section',Oe,[t[4]||(t[4]=(0,o.createElementVNode)('div',{class:'section-label'},'æˆ‘æ–¹é˜µè¥',-1)),(0,o.createElementVNode)('div',Re,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(r),e=>((0,o.openBlock)(),(0,o.createBlock)(fe,{key:e.id,unit:e,'is-enemy':!1,'is-active':(0,o.unref)(d)?.id===e.id,'is-current-turn':(0,o.unref)(u)&&(0,o.unref)(d)?.id===e.id},null,8,['unit','is-active','is-current-turn']))),128))])])]),(0,o.createCommentVNode)(' Battle Footer '),(0,o.createElementVNode)('footer',Ge,[(0,o.unref)(u)&&!(0,o.unref)(p)?((0,o.openBlock)(),(0,o.createBlock)(ze,{key:0,'current-unit':(0,o.unref)(d),'is-selecting-target':V.value,onAttack:g,onDefend:E,onSkill:h,onRetreat:k,onCancel:f},null,8,['current-unit','is-selecting-target'])):(0,o.unref)(p)?((0,o.openBlock)(),(0,o.createElementBlock)('div',Ze,[(0,o.unref)(v)?((0,o.openBlock)(),(0,o.createElementBlock)('div',Ue,[...t[5]||(t[5]=[(0,o.createElementVNode)('span',{class:'result-icon'},'ğŸ†',-1),(0,o.createElementVNode)('span',{class:'result-text'},'èƒœåˆ©ï¼',-1)])])):((0,o.openBlock)(),(0,o.createElementBlock)('div',qe,[...t[6]||(t[6]=[(0,o.createElementVNode)('span',{class:'result-icon'},'ğŸ’€',-1),(0,o.createElementVNode)('span',{class:'result-text'},'è´¥åŒ—...',-1)])])),(0,o.createVNode)(ee,{variant:'primary',onClick:b},{default:(0,o.withCtx)(()=>[...t[7]||(t[7]=[(0,o.createTextVNode)(' ç»§ç»­ ',-1)])]),_:1})])):((0,o.openBlock)(),(0,o.createElementBlock)('div',je,[(0,o.createVNode)(ae,{size:'small'}),t[8]||(t[8]=(0,o.createElementVNode)('span',null,'æ•Œæ–¹å›åˆ...',-1))]))]),(0,o.createCommentVNode)(' Collapse Button '),(0,o.createElementVNode)('button',{class:'collapse-btn',onClick:t[0]||(t[0]=t=>e.$emit('close'))},[...t[9]||(t[9]=[(0,o.createElementVNode)('span',null,'âœ• æ”¶èµ·æˆ˜æ–—é¢æ¿',-1)])])])]))}},Je=(0,E.A)(Qe,[['__scopeId','data-v-8635a8f4']]),Ke={class:'main-view'},We={class:'story-section'},Xe={class:'story-panel glass-panel'},Ye={class:'panel-decoration top'},et={key:0,class:'narration-block'},tt=['innerHTML'],at={class:'dialogue-block'},nt={key:0,class:'speaker-avatar'},lt=['src','alt'],ot={class:'dialogue-content'},st={class:'speaker-name'},ct={class:'dialogue-text'},rt={class:'system-message'},it={class:'system-text'},dt={class:'action-message'},mt={class:'action-msg-text'},ut={key:0,class:'loading-indicator'},pt={class:'loading-spinner'},vt={class:'panel-decoration bottom'},Vt={class:'action-section'},Nt={class:'action-panel'},gt={key:0,class:'action-options'},ft=['disabled','onClick'],Et={class:'action-label'},yt={class:'custom-input-area'},ht={class:'input-wrapper'},kt=['disabled'],bt=['disabled'],Ct={__name:'MainView',setup(e){const t=d(),n=Te(),l=m(),{storyMessages:s,actionOptions:u,currentBattleConfig:p}=a(t),{isBattleActive:v}=a(n),{isLoading:V}=a(l),N=(0,o.ref)(null),g=(0,o.ref)(''),f=(0,o.computed)(()=>null!==p.value&&!v.value),E=async()=>{if(!g.value.trim()||V.value)return;const e=g.value.trim();g.value='';const a=[...s.value];t.addMessage({type:'action',content:e}),k(),l.setLoading(!0,'æ­£åœ¨ç”Ÿæˆ...');try{const t=await c(e,a);h(t)}catch(e){console.error('[MainView] ç”Ÿæˆå¤±è´¥:',e),t.addSystemMessage('ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•'),l.addNotification({type:'error',message:'ç”Ÿæˆå¤±è´¥: '+(e.message||'æœªçŸ¥é”™è¯¯')})}finally{l.setLoading(!1),k()}},h=e=>{if(!e)return;t.addNarration(e);const a=r(e);a.length>0&&t.setActionOptions(a);const n=i(e);n&&t.setBattleConfig(n)},k=()=>{(0,o.nextTick)(()=>{N.value&&(N.value.scrollTop=N.value.scrollHeight)})},b=()=>{},C=()=>{n.startBattle(p.value)},B=()=>{n.pauseBattle()},M=e=>{n.endBattle(e),e.victory?(t.addNarration('*æˆ˜æ–—èƒœåˆ©ï¼æ•Œäººè¢«å‡»é€€äº†ã€‚*'),l.addNotification({type:'success',message:'æˆ˜æ–—èƒœåˆ©ï¼'})):(t.addNarration('*æˆ˜æ–—å¤±è´¥...ä½ çš„éƒ¨é˜Ÿè¢«è¿«æ’¤é€€ã€‚*'),l.addNotification({type:'error',message:'æˆ˜æ–—å¤±è´¥'})),t.clearBattleConfig(),k()};return(0,o.watch)(s,()=>{k()},{deep:!0}),(0,o.onMounted)(()=>{k(),t.setBattleConfig({enemies:[{name:'å“¥å¸ƒæ—å¤´ç›®',portrait:null,unit:{type:'å“¥å¸ƒæ—',currentCount:20,maxCount:20,atk:8,def:4,spd:6,hp:10}},{name:'ç‹¼éª‘å£«',portrait:null,unit:{type:'åº§ç‹¼',currentCount:8,maxCount:8,atk:12,def:6,spd:14,hp:18}}],allies:[{name:'{{user}}',portrait:null,unit:{type:'å‰‘å£«',currentCount:20,maxCount:30,atk:10,def:8,spd:5,hp:15}},{name:'å¼“æ‰‹é•¿',portrait:null,unit:{type:'å¼“ç®­æ‰‹',currentCount:25,maxCount:25,atk:14,def:3,spd:7,hp:12}}],victoryCondition:'å‡»è´¥æ‰€æœ‰æ•Œäºº'})}),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',Ke,[(0,o.createCommentVNode)(' Story Display Section '),(0,o.createElementVNode)('section',We,[(0,o.createElementVNode)('div',Xe,[(0,o.createCommentVNode)(' Top decoration '),(0,o.createElementVNode)('div',Ye,[t[1]||(t[1]=(0,o.createElementVNode)('div',{class:'decoration-line'},null,-1)),(0,o.createVNode)((0,o.unref)(y),{name:'diamond',size:'sm',class:'decoration-icon'}),t[2]||(t[2]=(0,o.createElementVNode)('div',{class:'decoration-line'},null,-1))]),(0,o.createCommentVNode)(' Story Content '),(0,o.createElementVNode)('div',{ref_key:'storyContainer',ref:N,class:'story-content',onScroll:b},[(0,o.createCommentVNode)(' Messages '),(0,o.createVNode)(o.TransitionGroup,{name:'message',tag:'div',class:'messages-container'},{default:(0,o.withCtx)(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(s),(e,t)=>{return(0,o.openBlock)(),(0,o.createElementBlock)('div',{key:e.id||t,class:(0,o.normalizeClass)(['story-message',e.type])},[(0,o.createCommentVNode)(' Narration '),'narration'===e.type?((0,o.openBlock)(),(0,o.createElementBlock)('div',et,[(0,o.createElementVNode)('span',{class:'narration-text',innerHTML:(a=e.content,a?a.replace(/\n/g,'<br>').replace(/\*\*(.+?)\*\*/g,'<strong>$1</strong>').replace(/\*(.+?)\*/g,'<em>$1</em>'):'')},null,8,tt)])):'dialogue'===e.type?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createCommentVNode)(' Dialogue '),(0,o.createElementVNode)('div',at,[e.avatar?((0,o.openBlock)(),(0,o.createElementBlock)('div',nt,[(0,o.createElementVNode)('img',{src:e.avatar,alt:e.speaker},null,8,lt)])):(0,o.createCommentVNode)('v-if',!0),(0,o.createElementVNode)('div',ot,[(0,o.createElementVNode)('span',st,(0,o.toDisplayString)(e.speaker),1),(0,o.createElementVNode)('span',ct,'"'+(0,o.toDisplayString)(e.content)+'"',1)])])],2112)):'system'===e.type?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:2},[(0,o.createCommentVNode)(' System Message '),(0,o.createElementVNode)('div',rt,[(0,o.createVNode)((0,o.unref)(y),{name:'info',size:'sm',class:'system-icon'}),(0,o.createElementVNode)('span',it,(0,o.toDisplayString)(e.content),1)])],2112)):'action'===e.type?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:3},[(0,o.createCommentVNode)(' Player Action '),(0,o.createElementVNode)('div',dt,[(0,o.createVNode)((0,o.unref)(y),{name:'chevronRight',size:'sm',class:'action-msg-icon'}),(0,o.createElementVNode)('span',mt,(0,o.toDisplayString)(e.content),1)])],2112)):(0,o.createCommentVNode)('v-if',!0)],2);var a}),128))]),_:1}),(0,o.createCommentVNode)(' Loading Indicator '),(0,o.createVNode)(o.Transition,{name:'fade'},{default:(0,o.withCtx)(()=>[(0,o.unref)(V)?((0,o.openBlock)(),(0,o.createElementBlock)('div',ut,[(0,o.createElementVNode)('div',pt,[(0,o.createVNode)((0,o.unref)(y),{name:'loader',size:'lg',class:'animate-spin'})]),t[3]||(t[3]=(0,o.createElementVNode)('span',{class:'loading-text'},'æ­£åœ¨æ€è€ƒ...',-1))])):(0,o.createCommentVNode)('v-if',!0)]),_:1})],544),(0,o.createCommentVNode)(' Bottom decoration '),(0,o.createElementVNode)('div',vt,[t[4]||(t[4]=(0,o.createElementVNode)('div',{class:'decoration-line'},null,-1)),(0,o.createVNode)((0,o.unref)(y),{name:'diamond',size:'sm',class:'decoration-icon'}),t[5]||(t[5]=(0,o.createElementVNode)('div',{class:'decoration-line'},null,-1))])])]),(0,o.createCommentVNode)(' Action Section '),(0,o.createElementVNode)('section',Vt,[(0,o.createElementVNode)('div',Nt,[(0,o.createCommentVNode)(' Action Options '),(0,o.unref)(u).length>0?((0,o.openBlock)(),(0,o.createElementBlock)('div',gt,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(u),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('button',{key:t,class:'action-btn',disabled:(0,o.unref)(V),onClick:t=>(e=>{g.value=e.action||e.label})(e)},[(0,o.createVNode)((0,o.unref)(y),{name:'chevronRight',size:'sm',class:'action-icon'}),(0,o.createElementVNode)('span',Et,(0,o.toDisplayString)(e.label),1)],8,ft))),128))])):(0,o.createCommentVNode)('v-if',!0),(0,o.createCommentVNode)(' Battle Trigger Button '),(0,o.createVNode)(o.Transition,{name:'battle-btn'},{default:(0,o.withCtx)(()=>[f.value?((0,o.openBlock)(),(0,o.createElementBlock)('button',{key:0,class:'battle-trigger-btn',onClick:C},[(0,o.createVNode)((0,o.unref)(y),{name:'swords',size:'md',class:'battle-icon left'}),t[6]||(t[6]=(0,o.createElementVNode)('span',{class:'battle-text'},'å¼€å§‹æˆ˜æ–—',-1)),(0,o.createVNode)((0,o.unref)(y),{name:'swords',size:'md',class:'battle-icon right'})])):(0,o.createCommentVNode)('v-if',!0)]),_:1}),(0,o.createCommentVNode)(' Custom Input '),(0,o.createElementVNode)('div',yt,[(0,o.createElementVNode)('div',ht,[(0,o.withDirectives)((0,o.createElementVNode)('input',{'onUpdate:modelValue':t[0]||(t[0]=e=>g.value=e),type:'text',class:'custom-input',placeholder:'è¾“å…¥è‡ªå®šä¹‰è¡ŒåŠ¨...',disabled:(0,o.unref)(V),onKeyup:(0,o.withKeys)(E,['enter'])},null,40,kt),[[o.vModelText,g.value]]),(0,o.createElementVNode)('button',{class:'send-btn',disabled:!g.value.trim()||(0,o.unref)(V),onClick:E},[(0,o.createVNode)((0,o.unref)(y),{name:'send',size:'sm'})],8,bt)])])])]),(0,o.createCommentVNode)(' Battle Panel Overlay '),(0,o.createVNode)(o.Transition,{name:'battle-panel'},{default:(0,o.withCtx)(()=>[(0,o.unref)(v)?((0,o.openBlock)(),(0,o.createBlock)(Je,{key:0,'battle-config':(0,o.unref)(p),onClose:B,onComplete:M},null,8,['battle-config'])):(0,o.createCommentVNode)('v-if',!0)]),_:1})]))}},Bt=(0,E.A)(Ct,[['__scopeId','data-v-1e8ee9e1']]),Mt={class:'modal-view training-view'},wt={class:'modal-panel glass-panel-strong'},xt={class:'modal-header'},St={class:'header-title'},_t={class:'modal-content'},zt={class:'section character-list'},Tt={class:'section-title'},Lt={class:'character-grid'},Dt={key:0,class:'character-avatar'},At={key:1,class:'empty-slot'},$t={key:2,class:'character-name'},Pt={class:'section stats-section'},It={class:'section-title'},Ht={class:'coming-soon-notice'},Ft={__name:'TrainingView',setup:e=>(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',Mt,[(0,o.createElementVNode)('div',wt,[(0,o.createCommentVNode)(' Header '),(0,o.createElementVNode)('div',xt,[t[2]||(t[2]=(0,o.createElementVNode)('div',{class:'header-decoration left'},[(0,o.createElementVNode)('div',{class:'decoration-line'})],-1)),(0,o.createElementVNode)('div',St,[(0,o.createVNode)((0,o.unref)(y),{name:'sparkles',size:'lg',class:'title-icon'}),t[0]||(t[0]=(0,o.createElementVNode)('h2',null,'è°ƒæ•™',-1)),t[1]||(t[1]=(0,o.createElementVNode)('span',{class:'subtitle'},'è§’è‰²åŸ¹å…»',-1))]),t[3]||(t[3]=(0,o.createElementVNode)('div',{class:'header-decoration right'},[(0,o.createElementVNode)('div',{class:'decoration-line'})],-1))]),(0,o.createCommentVNode)(' Content '),(0,o.createElementVNode)('div',_t,[(0,o.createCommentVNode)(' Character List Section '),(0,o.createElementVNode)('div',zt,[(0,o.createElementVNode)('h3',Tt,[(0,o.createVNode)((0,o.unref)(y),{name:'users',size:'sm'}),t[4]||(t[4]=(0,o.createElementVNode)('span',null,'å°†é¢†åˆ—è¡¨',-1))]),(0,o.createElementVNode)('div',Lt,[((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(6,e=>(0,o.createElementVNode)('div',{key:e,class:(0,o.normalizeClass)(['character-slot',{empty:e>2}])},[e<=2?((0,o.openBlock)(),(0,o.createElementBlock)('div',Dt,[(0,o.createVNode)((0,o.unref)(y),{name:'user',size:'lg'})])):((0,o.openBlock)(),(0,o.createElementBlock)('div',At,[(0,o.createVNode)((0,o.unref)(y),{name:'plus',size:'md'})])),e<=2?((0,o.openBlock)(),(0,o.createElementBlock)('span',$t,'å°†é¢† '+(0,o.toDisplayString)(e),1)):(0,o.createCommentVNode)('v-if',!0)],2)),64))])]),(0,o.createCommentVNode)(' Stats Section '),(0,o.createElementVNode)('div',Pt,[(0,o.createElementVNode)('h3',It,[(0,o.createVNode)((0,o.unref)(y),{name:'trendingUp',size:'sm'}),t[5]||(t[5]=(0,o.createElementVNode)('span',null,'å±æ€§åŸ¹å…»',-1))]),t[6]||(t[6]=(0,o.createStaticVNode)('<div class="stats-grid" data-v-139b8a1a><div class="stat-item" data-v-139b8a1a><span class="stat-label" data-v-139b8a1a>åŠ›é‡</span><div class="stat-bar" data-v-139b8a1a><div class="stat-fill" style="width:65%;" data-v-139b8a1a></div></div><span class="stat-value" data-v-139b8a1a>65</span></div><div class="stat-item" data-v-139b8a1a><span class="stat-label" data-v-139b8a1a>æ•æ·</span><div class="stat-bar" data-v-139b8a1a><div class="stat-fill" style="width:45%;" data-v-139b8a1a></div></div><span class="stat-value" data-v-139b8a1a>45</span></div><div class="stat-item" data-v-139b8a1a><span class="stat-label" data-v-139b8a1a>æ™ºåŠ›</span><div class="stat-bar" data-v-139b8a1a><div class="stat-fill" style="width:80%;" data-v-139b8a1a></div></div><span class="stat-value" data-v-139b8a1a>80</span></div></div>',1))]),(0,o.createCommentVNode)(' Coming Soon Notice '),(0,o.createElementVNode)('div',Ht,[(0,o.createVNode)((0,o.unref)(y),{name:'info',size:'sm'}),t[7]||(t[7]=(0,o.createElementVNode)('span',null,'æ›´å¤šåŠŸèƒ½å¼€å‘ä¸­...',-1))])])])]))},Ot=(0,E.A)(Ft,[['__scopeId','data-v-139b8a1a']]),Rt={class:'modal-view conquest-view'},Gt={class:'modal-panel glass-panel-strong'},Zt={class:'modal-header'},Ut={class:'header-title'},qt={class:'modal-content'},jt={class:'section map-section'},Qt={class:'section-title'},Jt={class:'map-preview'},Kt={class:'map-placeholder'},Wt={class:'section territory-section'},Xt={class:'section-title'},Yt={class:'territory-list'},ea={class:'territory-item'},ta={class:'attack-btn'},aa={class:'territory-item'},na={class:'attack-btn'},la={class:'territory-item locked'},oa={class:'attack-btn',disabled:''},sa={class:'coming-soon-notice'},ca={__name:'ConquestView',setup:e=>(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',Rt,[(0,o.createElementVNode)('div',Gt,[(0,o.createCommentVNode)(' Header '),(0,o.createElementVNode)('div',Zt,[t[2]||(t[2]=(0,o.createElementVNode)('div',{class:'header-decoration left'},[(0,o.createElementVNode)('div',{class:'decoration-line'})],-1)),(0,o.createElementVNode)('div',Ut,[(0,o.createVNode)((0,o.unref)(y),{name:'swords',size:'lg',class:'title-icon'}),t[0]||(t[0]=(0,o.createElementVNode)('h2',null,'å¾æœ',-1)),t[1]||(t[1]=(0,o.createElementVNode)('span',{class:'subtitle'},'é¢†åœ°æ‰©å¼ ',-1))]),t[3]||(t[3]=(0,o.createElementVNode)('div',{class:'header-decoration right'},[(0,o.createElementVNode)('div',{class:'decoration-line'})],-1))]),(0,o.createCommentVNode)(' Content '),(0,o.createElementVNode)('div',qt,[(0,o.createCommentVNode)(' Map Preview '),(0,o.createElementVNode)('div',jt,[(0,o.createElementVNode)('h3',Qt,[(0,o.createVNode)((0,o.unref)(y),{name:'map',size:'sm'}),t[4]||(t[4]=(0,o.createElementVNode)('span',null,'æˆ˜å½¹åœ°å›¾',-1))]),(0,o.createElementVNode)('div',Jt,[(0,o.createElementVNode)('div',Kt,[(0,o.createVNode)((0,o.unref)(y),{name:'compass',size:'xl',class:'map-icon'}),t[5]||(t[5]=(0,o.createElementVNode)('span',null,'åœ°å›¾åŠ è½½ä¸­...',-1))])])]),(0,o.createCommentVNode)(' Territory List '),(0,o.createElementVNode)('div',Wt,[(0,o.createElementVNode)('h3',Xt,[(0,o.createVNode)((0,o.unref)(y),{name:'flag',size:'sm'}),t[6]||(t[6]=(0,o.createElementVNode)('span',null,'å¯å¾æœåŒºåŸŸ',-1))]),(0,o.createElementVNode)('div',Yt,[(0,o.createElementVNode)('div',ea,[t[7]||(t[7]=(0,o.createElementVNode)('div',{class:'territory-info'},[(0,o.createElementVNode)('span',{class:'territory-name'},'åŒ—æ–¹æ£®æ—'),(0,o.createElementVNode)('span',{class:'territory-difficulty badge-warning'},'ä¸­ç­‰éš¾åº¦')],-1)),(0,o.createElementVNode)('button',ta,[(0,o.createVNode)((0,o.unref)(y),{name:'swords',size:'sm'})])]),(0,o.createElementVNode)('div',aa,[t[8]||(t[8]=(0,o.createElementVNode)('div',{class:'territory-info'},[(0,o.createElementVNode)('span',{class:'territory-name'},'å¤å ¡é—è¿¹'),(0,o.createElementVNode)('span',{class:'territory-difficulty badge-danger'},'é«˜éš¾åº¦')],-1)),(0,o.createElementVNode)('button',na,[(0,o.createVNode)((0,o.unref)(y),{name:'swords',size:'sm'})])]),(0,o.createElementVNode)('div',la,[t[9]||(t[9]=(0,o.createElementVNode)('div',{class:'territory-info'},[(0,o.createElementVNode)('span',{class:'territory-name'},'é­”ç‹åŸ'),(0,o.createElementVNode)('span',{class:'territory-difficulty badge-magic'},'???')],-1)),(0,o.createElementVNode)('button',oa,[(0,o.createVNode)((0,o.unref)(y),{name:'x',size:'sm'})])])])]),(0,o.createCommentVNode)(' Coming Soon Notice '),(0,o.createElementVNode)('div',sa,[(0,o.createVNode)((0,o.unref)(y),{name:'info',size:'sm'}),t[10]||(t[10]=(0,o.createElementVNode)('span',null,'æ›´å¤šåŒºåŸŸå¼€å‘ä¸­...',-1))])])])]))},ra=(0,E.A)(ca,[['__scopeId','data-v-61dee0e2']]),ia={class:'modal-view formation-view'},da={class:'modal-panel glass-panel-strong'},ma={class:'modal-header'},ua={class:'header-title'},pa={class:'modal-content'},va={class:'section units-section'},Va={class:'section-title'},Na={class:'unit-slots'},ga={class:'unit-slot filled'},fa={class:'unit-icon'},Ea={class:'unit-slot filled'},ya={class:'unit-icon archer'},ha={class:'unit-slot empty'},ka={class:'section formation-section'},ba={class:'section-title'},Ca={class:'formation-grid'},Ba={class:'grid-row'},Ma={class:'grid-cell center'},wa={class:'coming-soon-notice'},xa={__name:'FormationView',setup:e=>(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',ia,[(0,o.createElementVNode)('div',da,[(0,o.createCommentVNode)(' Header '),(0,o.createElementVNode)('div',ma,[t[2]||(t[2]=(0,o.createElementVNode)('div',{class:'header-decoration left'},[(0,o.createElementVNode)('div',{class:'decoration-line'})],-1)),(0,o.createElementVNode)('div',ua,[(0,o.createVNode)((0,o.unref)(y),{name:'castle',size:'lg',class:'title-icon'}),t[0]||(t[0]=(0,o.createElementVNode)('h2',null,'ç¼–åˆ¶',-1)),t[1]||(t[1]=(0,o.createElementVNode)('span',{class:'subtitle'},'å†›é˜Ÿç®¡ç†',-1))]),t[3]||(t[3]=(0,o.createElementVNode)('div',{class:'header-decoration right'},[(0,o.createElementVNode)('div',{class:'decoration-line'})],-1))]),(0,o.createCommentVNode)(' Content '),(0,o.createElementVNode)('div',pa,[(0,o.createCommentVNode)(' Unit Slots '),(0,o.createElementVNode)('div',va,[(0,o.createElementVNode)('h3',Va,[(0,o.createVNode)((0,o.unref)(y),{name:'users',size:'sm'}),t[4]||(t[4]=(0,o.createElementVNode)('span',null,'éƒ¨é˜Ÿç¼–æˆ',-1))]),(0,o.createElementVNode)('div',Na,[(0,o.createElementVNode)('div',ga,[(0,o.createElementVNode)('div',fa,[(0,o.createVNode)((0,o.unref)(y),{name:'sword',size:'md'})]),t[5]||(t[5]=(0,o.createElementVNode)('div',{class:'unit-info'},[(0,o.createElementVNode)('span',{class:'unit-type'},'å‰‘å£«'),(0,o.createElementVNode)('span',{class:'unit-count'},'20/30')],-1))]),(0,o.createElementVNode)('div',Ea,[(0,o.createElementVNode)('div',ya,[(0,o.createVNode)((0,o.unref)(y),{name:'star',size:'md'})]),t[6]||(t[6]=(0,o.createElementVNode)('div',{class:'unit-info'},[(0,o.createElementVNode)('span',{class:'unit-type'},'å¼“ç®­æ‰‹'),(0,o.createElementVNode)('span',{class:'unit-count'},'25/25')],-1))]),(0,o.createElementVNode)('div',ha,[(0,o.createVNode)((0,o.unref)(y),{name:'plus',size:'lg',class:'add-icon'}),t[7]||(t[7]=(0,o.createElementVNode)('span',{class:'add-text'},'æ·»åŠ éƒ¨é˜Ÿ',-1))])])]),(0,o.createCommentVNode)(' Formation Grid '),(0,o.createElementVNode)('div',ka,[(0,o.createElementVNode)('h3',ba,[(0,o.createVNode)((0,o.unref)(y),{name:'map',size:'sm'}),t[8]||(t[8]=(0,o.createElementVNode)('span',null,'é˜µå‹å¸ƒç½®',-1))]),(0,o.createElementVNode)('div',Ca,[t[11]||(t[11]=(0,o.createElementVNode)('div',{class:'grid-row'},[(0,o.createElementVNode)('div',{class:'grid-cell'}),(0,o.createElementVNode)('div',{class:'grid-cell occupied front'},'å‰'),(0,o.createElementVNode)('div',{class:'grid-cell'})],-1)),(0,o.createElementVNode)('div',Ba,[t[9]||(t[9]=(0,o.createElementVNode)('div',{class:'grid-cell occupied left'},'å·¦',-1)),(0,o.createElementVNode)('div',Ma,[(0,o.createVNode)((0,o.unref)(y),{name:'flag',size:'sm'})]),t[10]||(t[10]=(0,o.createElementVNode)('div',{class:'grid-cell occupied right'},'å³',-1))]),t[12]||(t[12]=(0,o.createElementVNode)('div',{class:'grid-row'},[(0,o.createElementVNode)('div',{class:'grid-cell'}),(0,o.createElementVNode)('div',{class:'grid-cell occupied back'},'å'),(0,o.createElementVNode)('div',{class:'grid-cell'})],-1))])]),(0,o.createCommentVNode)(' Coming Soon Notice '),(0,o.createElementVNode)('div',wa,[(0,o.createVNode)((0,o.unref)(y),{name:'info',size:'sm'}),t[13]||(t[13]=(0,o.createElementVNode)('span',null,'æ‹–æ‹½ç¼–è¾‘åŠŸèƒ½å¼€å‘ä¸­...',-1))])])])]))},Sa=(0,E.A)(xa,[['__scopeId','data-v-8369cf00']]),_a={class:'modal-view development-view'},za={class:'modal-panel glass-panel-strong'},Ta={class:'modal-header'},La={class:'header-title'},Da={class:'modal-content'},Aa={class:'section resources-section'},$a={class:'section-title'},Pa={class:'resources-grid'},Ia={class:'resource-card gold'},Ha={class:'resource-card supplies'},Fa={class:'resource-card population'},Oa={class:'section buildings-section'},Ra={class:'section-title'},Ga={class:'buildings-list'},Za={class:'building-item'},Ua={class:'building-icon'},qa={class:'upgrade-btn'},ja={class:'building-item'},Qa={class:'building-icon market'},Ja={class:'upgrade-btn'},Ka={class:'building-item locked'},Wa={class:'building-icon'},Xa={class:'upgrade-btn',disabled:''},Ya={class:'coming-soon-notice'},en={__name:'DevelopmentView',setup:e=>(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',_a,[(0,o.createElementVNode)('div',za,[(0,o.createCommentVNode)(' Header '),(0,o.createElementVNode)('div',Ta,[t[2]||(t[2]=(0,o.createElementVNode)('div',{class:'header-decoration left'},[(0,o.createElementVNode)('div',{class:'decoration-line'})],-1)),(0,o.createElementVNode)('div',La,[(0,o.createVNode)((0,o.unref)(y),{name:'trendingUp',size:'lg',class:'title-icon'}),t[0]||(t[0]=(0,o.createElementVNode)('h2',null,'å‘å±•',-1)),t[1]||(t[1]=(0,o.createElementVNode)('span',{class:'subtitle'},'èµ„æºå»ºè®¾',-1))]),t[3]||(t[3]=(0,o.createElementVNode)('div',{class:'header-decoration right'},[(0,o.createElementVNode)('div',{class:'decoration-line'})],-1))]),(0,o.createCommentVNode)(' Content '),(0,o.createElementVNode)('div',Da,[(0,o.createCommentVNode)(' Resources Overview '),(0,o.createElementVNode)('div',Aa,[(0,o.createElementVNode)('h3',$a,[(0,o.createVNode)((0,o.unref)(y),{name:'coins',size:'sm'}),t[4]||(t[4]=(0,o.createElementVNode)('span',null,'èµ„æºæ¦‚è§ˆ',-1))]),(0,o.createElementVNode)('div',Pa,[(0,o.createElementVNode)('div',Ia,[(0,o.createVNode)((0,o.unref)(y),{name:'coins',size:'md',class:'resource-icon'}),t[5]||(t[5]=(0,o.createElementVNode)('div',{class:'resource-info'},[(0,o.createElementVNode)('span',{class:'resource-value'},'1,250'),(0,o.createElementVNode)('span',{class:'resource-label'},'é‡‘å¸')],-1)),t[6]||(t[6]=(0,o.createElementVNode)('span',{class:'resource-rate'},'+50/å›åˆ',-1))]),(0,o.createElementVNode)('div',Ha,[(0,o.createVNode)((0,o.unref)(y),{name:'box',size:'md',class:'resource-icon'}),t[7]||(t[7]=(0,o.createElementVNode)('div',{class:'resource-info'},[(0,o.createElementVNode)('span',{class:'resource-value'},'480'),(0,o.createElementVNode)('span',{class:'resource-label'},'è¡¥ç»™')],-1)),t[8]||(t[8]=(0,o.createElementVNode)('span',{class:'resource-rate'},'+20/å›åˆ',-1))]),(0,o.createElementVNode)('div',Fa,[(0,o.createVNode)((0,o.unref)(y),{name:'users',size:'md',class:'resource-icon'}),t[9]||(t[9]=(0,o.createElementVNode)('div',{class:'resource-info'},[(0,o.createElementVNode)('span',{class:'resource-value'},'320'),(0,o.createElementVNode)('span',{class:'resource-label'},'äººå£')],-1)),t[10]||(t[10]=(0,o.createElementVNode)('span',{class:'resource-rate'},'ä¸Šé™: 500',-1))])])]),(0,o.createCommentVNode)(' Buildings '),(0,o.createElementVNode)('div',Oa,[(0,o.createElementVNode)('h3',Ra,[(0,o.createVNode)((0,o.unref)(y),{name:'castle',size:'sm'}),t[11]||(t[11]=(0,o.createElementVNode)('span',null,'å»ºç­‘åˆ—è¡¨',-1))]),(0,o.createElementVNode)('div',Ga,[(0,o.createElementVNode)('div',Za,[(0,o.createElementVNode)('div',Ua,[(0,o.createVNode)((0,o.unref)(y),{name:'castle',size:'md'})]),t[13]||(t[13]=(0,o.createElementVNode)('div',{class:'building-info'},[(0,o.createElementVNode)('span',{class:'building-name'},'åŸå ¡'),(0,o.createElementVNode)('span',{class:'building-level'},'Lv.2')],-1)),(0,o.createElementVNode)('button',qa,[(0,o.createVNode)((0,o.unref)(y),{name:'arrowUp',size:'sm'}),t[12]||(t[12]=(0,o.createElementVNode)('span',null,'å‡çº§',-1))])]),(0,o.createElementVNode)('div',ja,[(0,o.createElementVNode)('div',Qa,[(0,o.createVNode)((0,o.unref)(y),{name:'coins',size:'md'})]),t[15]||(t[15]=(0,o.createElementVNode)('div',{class:'building-info'},[(0,o.createElementVNode)('span',{class:'building-name'},'å¸‚åœº'),(0,o.createElementVNode)('span',{class:'building-level'},'Lv.1')],-1)),(0,o.createElementVNode)('button',Ja,[(0,o.createVNode)((0,o.unref)(y),{name:'arrowUp',size:'sm'}),t[14]||(t[14]=(0,o.createElementVNode)('span',null,'å‡çº§',-1))])]),(0,o.createElementVNode)('div',Ka,[(0,o.createElementVNode)('div',Wa,[(0,o.createVNode)((0,o.unref)(y),{name:'zap',size:'md'})]),t[16]||(t[16]=(0,o.createElementVNode)('div',{class:'building-info'},[(0,o.createElementVNode)('span',{class:'building-name'},'é­”æ³•å¡”'),(0,o.createElementVNode)('span',{class:'building-level'},'æœªè§£é”')],-1)),(0,o.createElementVNode)('button',Xa,[(0,o.createVNode)((0,o.unref)(y),{name:'x',size:'sm'})])])])]),(0,o.createCommentVNode)(' Coming Soon Notice '),(0,o.createElementVNode)('div',Ya,[(0,o.createVNode)((0,o.unref)(y),{name:'info',size:'sm'}),t[17]||(t[17]=(0,o.createElementVNode)('span',null,'ç§‘æŠ€æ ‘ç³»ç»Ÿå¼€å‘ä¸­...',-1))])])])]))},tn=(0,E.A)(en,[['__scopeId','data-v-1102685f']]),an={id:'telain-app',class:'telain-container'},nn={class:'app-content'},ln={class:'main-content'},on={key:0,class:'global-overlay'},sn={class:'notifications-container'},cn={class:'notification-icon'},rn={class:'notification-text'},dn={__name:'App',setup(e){const t=d(),n=m(),{hasActiveOverlay:l,notifications:s}=a(n),c=(0,o.ref)('main'),r={main:Bt,training:Ot,conquest:ra,formation:Sa,development:tn},i=(0,o.computed)(()=>r[c.value]);return(0,o.provide)('gameStore',t),(0,o.provide)('uiStore',n),(0,o.onMounted)(()=>{t.loadFromST()}),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)('div',an,[(0,o.createCommentVNode)(' Background Layer '),t[1]||(t[1]=(0,o.createElementVNode)('div',{class:'app-background'},[(0,o.createElementVNode)('div',{class:'bg-overlay'}),(0,o.createElementVNode)('div',{class:'bg-particles'})],-1)),(0,o.createCommentVNode)(' Main Content Area '),(0,o.createElementVNode)('div',nn,[(0,o.createCommentVNode)(' Top Info Bar '),(0,o.createVNode)(A),(0,o.createCommentVNode)(' Page Content '),(0,o.createElementVNode)('main',ln,[(0,o.createVNode)(o.Transition,{name:'page',mode:'out-in'},{default:(0,o.withCtx)(()=>[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(i.value),{key:c.value}))]),_:1})]),(0,o.createCommentVNode)(' Bottom Navigation Bar '),(0,o.createVNode)(U,{modelValue:c.value,'onUpdate:modelValue':t[0]||(t[0]=e=>c.value=e)},null,8,['modelValue'])]),(0,o.createCommentVNode)(' Global Overlay Slot '),((0,o.openBlock)(),(0,o.createBlock)(o.Teleport,{to:'body'},[(0,o.createVNode)(o.Transition,{name:'overlay'},{default:(0,o.withCtx)(()=>[(0,o.unref)(l)?((0,o.openBlock)(),(0,o.createElementBlock)('div',on,[(0,o.createCommentVNode)(' Overlays will be rendered here ')])):(0,o.createCommentVNode)('v-if',!0)]),_:1})])),(0,o.createCommentVNode)(' Notifications '),(0,o.createElementVNode)('div',sn,[(0,o.createVNode)(o.TransitionGroup,{name:'notification'},{default:(0,o.withCtx)(()=>[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)((0,o.unref)(s),e=>{return(0,o.openBlock)(),(0,o.createElementBlock)('div',{key:e.id,class:(0,o.normalizeClass)(['notification',e.type])},[(0,o.createElementVNode)('span',cn,(0,o.toDisplayString)((t=e.type,{info:'i',success:'âœ“',warning:'!',error:'âœ•'}[t]||'i')),1),(0,o.createElementVNode)('span',rn,(0,o.toDisplayString)(e.message),1)],2);var t}),128))]),_:1})])]))}};$(()=>{try{console.log('[Telain RPG] Initializing...'),console.log('[Telain RPG] Vue:','undefined'!=typeof Vue?'available':'missing'),console.log('[Telain RPG] Pinia:','undefined'!=typeof Pinia?'available':'missing');const t=(0,o.createApp)(dn);console.log('[Telain RPG] Vue app created');const a=e();t.use(a),console.log('[Telain RPG] Pinia added');const n=document.getElementById('app');console.log('[Telain RPG] Mount element:',n?'found':'missing'),t.mount('#app'),console.log('[Telain RPG] App mounted successfully')}catch(e){console.error('[Telain RPG] Error:',e),document.body.innerHTML='<div style="color:red;padding:20px;">Error: '+e.message+'</div>'}});</script><style>.icon-svg[data-v-510026f9]{display:inline-block;vertical-align:middle;flex-shrink:0}.icon-xs[data-v-510026f9]{width:12px;height:12px}.icon-sm[data-v-510026f9]{width:16px;height:16px}.icon-md[data-v-510026f9]{width:20px;height:20px}.icon-lg[data-v-510026f9]{width:24px;height:24px}.icon-xl[data-v-510026f9]{width:32px;height:32px}.icon-2xl[data-v-510026f9]{width:40px;height:40px}.icon-spin[data-v-510026f9]{animation:icon-spin-510026f9 1s linear infinite}@keyframes icon-spin-510026f9{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
.top-info-bar[data-v-f13ec036]{position:fixed;top:0;left:0;right:0;z-index:var(--z-sticky);height:var(--top-bar-height);padding:0 var(--space-md);display:flex;align-items:center}.bar-glass[data-v-f13ec036]{position:absolute;inset:0;background:var(--gradient-top-bar);backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur))}.info-bar-content[data-v-f13ec036]{position:relative;z-index:1;display:flex;align-items:center;gap:var(--space-md);width:100%;padding:var(--space-sm) 0}.info-item[data-v-f13ec036]{display:flex;align-items:center;gap:var(--space-xs)}.info-item .info-icon[data-v-f13ec036]{color:var(--gold-primary);opacity:.8}.info-item .info-text[data-v-f13ec036]{font-family:var(--font-ui);font-size:var(--text-sm);color:var(--text-secondary);transition:var(--transition-normal)}.info-item.location .info-icon[data-v-f13ec036]{color:var(--gold-bright);animation:pulse-scale-f13ec036 3s ease-in-out infinite}.info-item.location .info-text[data-v-f13ec036]{color:var(--gold-primary);font-weight:500}.info-item.location:hover .info-text[data-v-f13ec036]{color:var(--gold-bright);text-shadow:0 0 10px rgba(var(--gold-primary-rgb), 0.5)}.info-item.chapter .chapter-badge[data-v-f13ec036]{display:inline-flex;align-items:center;gap:4px;padding:2px var(--space-sm);background:rgba(var(--gold-primary-rgb), 0.15);border:1px solid rgba(var(--gold-primary-rgb), 0.3);border-radius:var(--radius-full);font-family:var(--font-ui);font-size:var(--text-xs);color:var(--gold-primary);font-weight:500}.info-item.chapter .chapter-badge .chapter-icon[data-v-f13ec036]{opacity:.7}.info-spacer[data-v-f13ec036]{flex:1}.info-resources[data-v-f13ec036]{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-xs) var(--space-sm);background:rgba(var(--bg-card-rgb), 0.6);border:1px solid var(--border-subtle);border-radius:var(--radius-lg);backdrop-filter:blur(4px)}.resource-item[data-v-f13ec036]{display:flex;align-items:center;gap:4px;cursor:default;transition:var(--transition-normal)}.resource-item .resource-icon[data-v-f13ec036]{color:var(--gold-primary)}.resource-item .resource-value[data-v-f13ec036]{font-family:var(--font-ui);font-size:var(--text-sm);font-weight:600;color:var(--text-primary);min-width:32px}.resource-item.gold .resource-icon[data-v-f13ec036]{color:var(--gold-bright)}.resource-item.gold:hover .resource-icon[data-v-f13ec036]{animation:bounce-f13ec036 .5s ease-in-out}.resource-item.supplies .resource-icon[data-v-f13ec036]{color:var(--warning)}.resource-item.supplies:hover .resource-icon[data-v-f13ec036]{animation:bounce-f13ec036 .5s ease-in-out}.resource-divider[data-v-f13ec036]{width:1px;height:16px;background:var(--border-subtle)}.settings-btn[data-v-f13ec036]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;color:var(--text-muted);background:rgba(0,0,0,0);border:none;border-radius:var(--radius-md);cursor:pointer;transition:var(--transition-normal)}.settings-btn[data-v-f13ec036]:hover{color:var(--gold-primary);background:rgba(var(--gold-primary-rgb), 0.1)}.settings-btn[data-v-f13ec036]:hover svg{animation:spin-f13ec036 2s linear infinite}.settings-btn[data-v-f13ec036]:active{transform:scale(0.95)}.bar-decoration[data-v-f13ec036]{position:absolute;bottom:0;left:0;right:0;height:12px;pointer-events:none}.bar-decoration svg[data-v-f13ec036]{width:100%;height:100%}.bar-decoration .center-diamond[data-v-f13ec036]{filter:drop-shadow(0 0 4px rgba(212, 175, 55, 0.6));animation:pulse-scale-f13ec036 2s ease-in-out infinite}@keyframes pulse-scale-f13ec036{0%,100%{transform:scale(1);opacity:.8}50%{transform:scale(1.1);opacity:1}}@keyframes bounce-f13ec036{0%,100%{transform:translateY(0)}50%{transform:translateY(-3px)}}@keyframes spin-f13ec036{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
.bottom-nav-bar[data-v-9025e9a0]{position:fixed;bottom:0;left:0;right:0;z-index:var(--z-sticky);height:var(--bottom-bar-height);padding:0 var(--space-sm);padding-bottom:env(safe-area-inset-bottom, 0px)}.bar-glass[data-v-9025e9a0]{position:absolute;inset:0;background:var(--gradient-bottom-bar);backdrop-filter:blur(var(--glass-blur));-webkit-backdrop-filter:blur(var(--glass-blur))}.bar-decoration[data-v-9025e9a0]{position:absolute;top:0;left:0;right:0;height:12px;pointer-events:none}.bar-decoration svg[data-v-9025e9a0]{width:100%;height:100%}.bar-decoration .center-diamond[data-v-9025e9a0]{filter:drop-shadow(0 0 4px rgba(212, 175, 55, 0.6));animation:pulse-scale-9025e9a0 2s ease-in-out infinite}.nav-items[data-v-9025e9a0]{position:relative;z-index:1;display:flex;justify-content:space-around;align-items:flex-start;height:100%;padding-top:var(--space-md)}.nav-item[data-v-9025e9a0]{position:relative;display:flex;flex-direction:column;align-items:center;gap:4px;padding:var(--space-xs) var(--space-sm);background:none;border:none;cursor:pointer;transition:var(--transition-normal);-webkit-tap-highlight-color:rgba(0,0,0,0)}.nav-item .nav-icon-wrapper[data-v-9025e9a0]{position:relative;display:flex;align-items:center;justify-content:center;width:40px;height:40px}.nav-item .nav-icon-glow[data-v-9025e9a0]{position:absolute;inset:0;background:radial-gradient(circle, rgba(var(--gold-primary-rgb), 0.3) 0%, transparent 70%);border-radius:50%;animation:glow-pulse-9025e9a0 2s ease-in-out infinite}.nav-item .nav-icon[data-v-9025e9a0]{position:relative;z-index:1;color:var(--text-muted);transition:all var(--transition-normal)}.nav-item .nav-label[data-v-9025e9a0]{font-family:var(--font-ui);font-size:var(--text-xs);color:var(--text-muted);transition:all var(--transition-normal);white-space:nowrap}.nav-item:hover:not(.active) .nav-icon[data-v-9025e9a0]{color:var(--text-secondary);transform:translateY(-2px)}.nav-item:hover:not(.active) .nav-label[data-v-9025e9a0]{color:var(--text-secondary)}.nav-item:active .nav-icon[data-v-9025e9a0]{transform:scale(0.9)}.nav-item.active .nav-icon-wrapper[data-v-9025e9a0]{transform:translateY(-4px)}.nav-item.active .nav-icon[data-v-9025e9a0]{color:var(--gold-primary);filter:drop-shadow(0 0 8px rgba(var(--gold-primary-rgb), 0.6))}.nav-item.active .nav-label[data-v-9025e9a0]{color:var(--gold-primary);font-weight:600;text-shadow:0 0 8px rgba(var(--gold-primary-rgb), 0.4)}.active-indicator[data-v-9025e9a0]{position:absolute;bottom:-4px;left:50%;transform:translateX(-50%);width:32px;height:3px}.active-indicator .indicator-line[data-v-9025e9a0]{width:100%;height:100%;background:var(--gradient-gold);border-radius:var(--radius-full);box-shadow:0 0 8px rgba(var(--gold-primary-rgb), 0.8),0 0 16px rgba(var(--gold-primary-rgb), 0.4)}.indicator-enter-active[data-v-9025e9a0],.indicator-leave-active[data-v-9025e9a0]{transition:all var(--transition-normal)}.indicator-enter-from[data-v-9025e9a0],.indicator-leave-to[data-v-9025e9a0]{opacity:0;transform:translateX(-50%) scaleX(0)}.indicator-enter-to[data-v-9025e9a0],.indicator-leave-from[data-v-9025e9a0]{opacity:1;transform:translateX(-50%) scaleX(1)}@keyframes pulse-scale-9025e9a0{0%,100%{transform:scale(1);opacity:.8}50%{transform:scale(1.1);opacity:1}}@keyframes glow-pulse-9025e9a0{0%,100%{opacity:.5;transform:scale(1)}50%{opacity:1;transform:scale(1.2)}}
.gold-border-container[data-v-174e1afc]{position:relative;background:var(--color-bg-card);border:2px solid var(--color-border-gold);border-radius:var(--radius-md);box-shadow:inset 0 0 20px rgba(212,175,55,.1),0 4px 10px rgba(0,0,0,.3)}.border-decoration[data-v-174e1afc]{position:absolute;width:16px;height:16px;border:2px solid var(--color-accent);pointer-events:none}.border-decoration.top-left[data-v-174e1afc]{top:-3px;left:-3px;border-right:none;border-bottom:none;border-top-left-radius:var(--radius-md)}.border-decoration.top-right[data-v-174e1afc]{top:-3px;right:-3px;border-left:none;border-bottom:none;border-top-right-radius:var(--radius-md)}.border-decoration.bottom-left[data-v-174e1afc]{bottom:-3px;left:-3px;border-right:none;border-top:none;border-bottom-left-radius:var(--radius-md)}.border-decoration.bottom-right[data-v-174e1afc]{bottom:-3px;right:-3px;border-left:none;border-top:none;border-bottom-right-radius:var(--radius-md)}.gold-border-content[data-v-174e1afc]{position:relative}
.magic-button[data-v-42a6b8fe]{position:relative;display:inline-flex;align-items:center;justify-content:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-lg);font-family:var(--font-ui);font-size:var(--font-size-base);color:var(--color-text-primary);background:var(--color-bg-card);border:2px solid var(--color-border);border-radius:var(--radius-md);cursor:pointer;overflow:hidden;transition:var(--transition-normal)}.magic-button[data-v-42a6b8fe]:hover:not(.disabled){border-color:var(--color-accent);transform:translateY(-2px)}.magic-button:hover:not(.disabled) .button-glow[data-v-42a6b8fe]{opacity:.3}.magic-button[data-v-42a6b8fe]:active:not(.disabled){transform:translateY(0)}.magic-button.disabled[data-v-42a6b8fe]{opacity:.5;cursor:not-allowed}.magic-button.primary[data-v-42a6b8fe]{background:var(--gradient-gold);border-color:var(--color-accent-dark);color:var(--color-bg-primary);font-weight:bold}.magic-button.primary[data-v-42a6b8fe]:hover:not(.disabled){box-shadow:var(--shadow-glow)}.magic-button.battle[data-v-42a6b8fe]{background:linear-gradient(180deg, #8B0000 0%, #5C0000 100%);border-color:#f44;color:#fff;font-weight:bold;animation:pulse-glow-42a6b8fe 2s infinite}.magic-button.battle[data-v-42a6b8fe]:hover:not(.disabled){animation:none;box-shadow:0 0 30px var(--color-danger)}@keyframes pulse-glow-42a6b8fe{0%,100%{box-shadow:0 0 10px var(--color-danger)}50%{box-shadow:0 0 25px var(--color-danger)}}.magic-button.small[data-v-42a6b8fe]{padding:var(--spacing-xs) var(--spacing-md);font-size:var(--font-size-sm)}.magic-button.ghost[data-v-42a6b8fe]{background:rgba(0,0,0,0);border-color:rgba(0,0,0,0)}.magic-button.ghost[data-v-42a6b8fe]:hover:not(.disabled){background:hsla(0,0%,100%,.05);border-color:var(--color-border)}.button-content[data-v-42a6b8fe]{position:relative;z-index:1;display:flex;align-items:center;gap:var(--spacing-xs)}.button-glow[data-v-42a6b8fe]{position:absolute;inset:0;background:radial-gradient(circle at center, var(--color-accent) 0%, transparent 70%);opacity:0;transition:opacity var(--transition-normal);pointer-events:none}.button-loading[data-v-42a6b8fe]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:inherit}.button-loading .loading-spinner[data-v-42a6b8fe]{width:20px;height:20px;border:2px solid var(--color-text-muted);border-top-color:var(--color-accent);border-radius:50%;animation:spin-42a6b8fe .8s linear infinite}@keyframes spin-42a6b8fe{to{transform:rotate(360deg)}}.loading .button-content[data-v-42a6b8fe]{opacity:0}
.loading-magic-circle[data-v-1d6ad6a4]{position:relative;display:flex;align-items:center;justify-content:center}.loading-magic-circle.small[data-v-1d6ad6a4]{width:30px;height:30px}.loading-magic-circle.small .circle-outer[data-v-1d6ad6a4]{width:30px;height:30px}.loading-magic-circle.small .circle-inner[data-v-1d6ad6a4]{width:15px;height:15px}.loading-magic-circle.small .rune[data-v-1d6ad6a4]{font-size:8px}.loading-magic-circle.medium[data-v-1d6ad6a4]{width:50px;height:50px}.loading-magic-circle.medium .circle-outer[data-v-1d6ad6a4]{width:50px;height:50px}.loading-magic-circle.medium .circle-inner[data-v-1d6ad6a4]{width:25px;height:25px}.loading-magic-circle.medium .rune[data-v-1d6ad6a4]{font-size:10px}.loading-magic-circle.large[data-v-1d6ad6a4]{width:80px;height:80px}.loading-magic-circle.large .circle-outer[data-v-1d6ad6a4]{width:80px;height:80px}.loading-magic-circle.large .circle-inner[data-v-1d6ad6a4]{width:40px;height:40px}.loading-magic-circle.large .rune[data-v-1d6ad6a4]{font-size:14px}.circle-outer[data-v-1d6ad6a4]{position:absolute;border:2px solid var(--color-accent);border-radius:50%;animation:magic-spin-1d6ad6a4 3s linear infinite;opacity:.8}.circle-outer .rune[data-v-1d6ad6a4]{position:absolute;color:var(--color-accent)}.circle-outer .rune.rune-1[data-v-1d6ad6a4]{top:-8px;left:50%;transform:translateX(-50%)}.circle-outer .rune.rune-2[data-v-1d6ad6a4]{right:-8px;top:50%;transform:translateY(-50%)}.circle-outer .rune.rune-3[data-v-1d6ad6a4]{bottom:-8px;left:50%;transform:translateX(-50%)}.circle-outer .rune.rune-4[data-v-1d6ad6a4]{left:-8px;top:50%;transform:translateY(-50%)}.circle-inner[data-v-1d6ad6a4]{position:absolute;border:1px solid var(--color-accent-light);border-radius:50%;animation:magic-spin-1d6ad6a4 2s linear infinite reverse;opacity:.6}.core-glow[data-v-1d6ad6a4]{position:absolute;inset:30%;background:var(--color-accent);border-radius:50%;filter:blur(3px);animation:pulse-1d6ad6a4 1.5s ease-in-out infinite}@keyframes magic-spin-1d6ad6a4{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}@keyframes pulse-1d6ad6a4{0%,100%{opacity:.5;transform:scale(0.8)}50%{opacity:1;transform:scale(1.2)}}
.unit-card[data-v-789af309]{position:relative;width:100px;cursor:default;transition:var(--transition-normal)}.unit-card.selectable[data-v-789af309]{cursor:pointer}.unit-card.selectable[data-v-789af309]:hover{transform:scale(1.05)}.unit-card.selectable:hover .card-border[data-v-789af309]{border-color:var(--color-danger);box-shadow:0 0 15px var(--color-danger)}.unit-card.active .card-border[data-v-789af309]{border-color:var(--color-accent)}.unit-card.current-turn[data-v-789af309]{transform:scale(1.05)}.unit-card.current-turn .card-border[data-v-789af309]{border-color:var(--color-accent);box-shadow:0 0 20px var(--color-accent);animation:glow-pulse-789af309 2s infinite}.unit-card.defeated[data-v-789af309]{opacity:.6;filter:grayscale(80%);pointer-events:none}.card-border[data-v-789af309]{position:relative;background:var(--gradient-panel);border:2px solid var(--color-border);border-radius:var(--radius-md);padding:var(--spacing-xs);transition:var(--transition-normal)}.card-border.frame-normal[data-v-789af309]{border-color:#8b7355}.card-border.frame-elite[data-v-789af309]{border-color:#4169e1;box-shadow:0 0 10px rgba(65,105,225,.3)}.card-border.frame-legendary[data-v-789af309]{border-color:gold;box-shadow:0 0 15px rgba(255,215,0,.4)}.corner-ornament[data-v-789af309]{position:absolute;font-size:8px;color:var(--color-border-gold);opacity:.5}.corner-ornament.top-left[data-v-789af309]{top:2px;left:2px}.corner-ornament.top-right[data-v-789af309]{top:2px;right:2px}.corner-ornament.bottom-left[data-v-789af309]{bottom:2px;left:2px}.corner-ornament.bottom-right[data-v-789af309]{bottom:2px;right:2px}.card-content[data-v-789af309]{display:flex;flex-direction:column;gap:var(--spacing-xs)}.portrait-area[data-v-789af309]{position:relative;width:60px;height:60px;margin:0 auto;border-radius:var(--radius-sm);overflow:hidden;background:var(--color-bg-primary)}.portrait-area .portrait[data-v-789af309]{width:100%;height:100%;background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center}.portrait-area .portrait .unit-icon[data-v-789af309]{font-size:28px}.portrait-area .defeated-overlay[data-v-789af309]{position:absolute;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;color:var(--color-danger);font-weight:bold;font-size:var(--font-size-sm)}.portrait-area .defending-badge[data-v-789af309]{position:absolute;top:2px;right:2px;font-size:14px;filter:drop-shadow(0 0 2px rgba(0, 0, 0, 0.5))}.info-area[data-v-789af309]{text-align:center}.info-area .unit-name[data-v-789af309]{font-size:var(--font-size-xs);font-weight:bold;color:var(--color-text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.info-area .unit-stats[data-v-789af309]{display:flex;justify-content:center;gap:2px;font-size:9px;color:var(--color-text-secondary)}.info-area .unit-stats .stat[data-v-789af309]{background:var(--color-bg-primary);padding:1px 3px;border-radius:2px}.info-area .unit-type[data-v-789af309]{font-size:10px;color:var(--color-text-secondary);margin-top:2px}.hp-bar[data-v-789af309]{height:4px;background:var(--color-bg-primary);border-radius:2px;overflow:hidden;margin-top:var(--spacing-xs)}.hp-bar .hp-fill[data-v-789af309]{height:100%;transition:width .3s ease;border-radius:2px}.hp-bar .hp-fill.healthy[data-v-789af309]{background:linear-gradient(90deg, #4A7C59, #6B8E23)}.hp-bar .hp-fill.warning[data-v-789af309]{background:linear-gradient(90deg, #CC7722, #DAA520)}.hp-bar .hp-fill.critical[data-v-789af309]{background:linear-gradient(90deg, #8B0000, #CD5C5C);animation:critical-pulse-789af309 1s infinite}.turn-indicator[data-v-789af309]{position:absolute;bottom:-22px;left:50%;transform:translateX(-50%);display:flex;flex-direction:column;align-items:center;color:var(--color-accent)}.turn-indicator .indicator-arrow[data-v-789af309]{font-size:10px;animation:bounce-789af309 1s infinite}.turn-indicator .indicator-text[data-v-789af309]{font-size:9px}@keyframes glow-pulse-789af309{0%,100%{box-shadow:0 0 10px var(--color-accent)}50%{box-shadow:0 0 25px var(--color-accent)}}@keyframes bounce-789af309{0%,100%{transform:translateY(0)}50%{transform:translateY(-3px)}}@keyframes critical-pulse-789af309{0%,100%{opacity:1}50%{opacity:.7}}.turn-indicator-enter-active[data-v-789af309],.turn-indicator-leave-active[data-v-789af309]{transition:all .3s ease}.turn-indicator-enter-from[data-v-789af309],.turn-indicator-leave-to[data-v-789af309]{opacity:0;transform:translateX(-50%) translateY(10px)}
.ornament-divider[data-v-73323c0e]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-xs) 0;opacity:.6}.ornament-divider .divider-line[data-v-73323c0e]{flex:1;height:1px;background:linear-gradient(90deg, transparent, var(--color-accent) 50%, transparent)}.ornament-divider .divider-line.left[data-v-73323c0e]{background:linear-gradient(90deg, transparent, var(--color-accent))}.ornament-divider .divider-line.right[data-v-73323c0e]{background:linear-gradient(90deg, var(--color-accent), transparent)}.ornament-divider .divider-ornament[data-v-73323c0e]{color:var(--color-accent);font-size:var(--font-size-xs)}.ornament-divider.top .divider-ornament[data-v-73323c0e]{font-size:10px}.ornament-divider.bottom .divider-ornament[data-v-73323c0e]{font-size:10px}.ornament-divider.simple .divider-ornament[data-v-73323c0e]{font-size:8px}
.battle-log[data-v-554b1c6d]{height:100%;display:flex;flex-direction:column;background:var(--color-bg-primary);border:1px solid var(--color-border);border-radius:var(--radius-sm);overflow:hidden}.log-header[data-v-554b1c6d]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-xs) var(--spacing-sm);background:var(--color-bg-secondary);border-bottom:1px solid var(--color-border)}.log-header .log-title[data-v-554b1c6d]{font-size:var(--font-size-xs);color:var(--color-text-secondary);white-space:nowrap}.log-header .ornament-divider[data-v-554b1c6d]{flex:1}.log-content[data-v-554b1c6d]{flex:1;overflow-y:auto;padding:var(--spacing-sm);font-family:var(--font-ui);font-size:var(--font-size-sm)}.log-content[data-v-554b1c6d]::-webkit-scrollbar{width:6px}.log-content[data-v-554b1c6d]::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.log-content[data-v-554b1c6d]::-webkit-scrollbar-thumb{background:var(--color-border);border-radius:3px}.log-entry[data-v-554b1c6d]{display:flex;gap:var(--spacing-xs);margin-bottom:var(--spacing-xs);line-height:1.4}.log-entry .log-prefix[data-v-554b1c6d]{color:var(--color-accent);flex-shrink:0}.log-entry .log-message[data-v-554b1c6d]{color:var(--color-text-primary)}.log-entry.system .log-message[data-v-554b1c6d]{color:var(--color-info);font-style:italic}.log-entry.combat .log-message[data-v-554b1c6d]{color:var(--color-text-primary)}.log-entry.damage .log-message[data-v-554b1c6d]{color:var(--color-danger)}.log-entry.heal .log-message[data-v-554b1c6d]{color:var(--color-success)}.log-entry.dialogue .log-message[data-v-554b1c6d]{color:var(--color-accent-light)}.log-item-enter-active[data-v-554b1c6d]{transition:all .3s ease}.log-item-enter-from[data-v-554b1c6d]{opacity:0;transform:translateY(-10px)}.log-item-move[data-v-554b1c6d]{transition:transform .3s ease}
.action-menu[data-v-bc86c076]{display:flex;flex-direction:column;gap:var(--spacing-sm)}.action-buttons[data-v-bc86c076]{display:flex;justify-content:center;gap:var(--spacing-sm);flex-wrap:wrap}.action-buttons .magic-button[data-v-bc86c076]{min-width:80px}.action-buttons .action-icon[data-v-bc86c076]{margin-right:var(--spacing-xs)}.target-selection[data-v-bc86c076]{display:flex;justify-content:center;align-items:center;gap:var(--spacing-lg)}.target-selection .selection-prompt[data-v-bc86c076]{display:flex;align-items:center;gap:var(--spacing-sm);color:var(--color-accent);animation:pulse-bc86c076 1.5s infinite}.target-selection .selection-prompt .prompt-icon[data-v-bc86c076]{font-size:20px}.target-selection .selection-prompt .prompt-text[data-v-bc86c076]{font-size:var(--font-size-base);font-weight:bold}@keyframes pulse-bc86c076{0%,100%{opacity:1}50%{opacity:.6}}
.battle-panel-overlay[data-v-8635a8f4]{position:fixed;inset:0;z-index:1000;display:flex;flex-direction:column;background:var(--color-bg-overlay);backdrop-filter:blur(4px)}.battle-panel[data-v-8635a8f4]{flex:1;display:flex;flex-direction:column;margin:var(--spacing-md);background:var(--gradient-panel);border:2px solid var(--color-border-gold);border-radius:var(--radius-lg);overflow:hidden;position:relative}.battle-header[data-v-8635a8f4]{padding:var(--spacing-md);flex-shrink:0}.battle-header .header-content[data-v-8635a8f4]{text-align:center;padding:var(--spacing-sm)}.battle-header .battle-title[data-v-8635a8f4]{margin:0;font-size:var(--font-size-xl);color:var(--color-accent);font-family:var(--font-title)}.battle-header .battle-title .title-ornament[data-v-8635a8f4]{margin:0 var(--spacing-sm)}.battle-body[data-v-8635a8f4]{flex:1;display:flex;flex-direction:column;overflow:hidden;padding:var(--spacing-md);gap:var(--spacing-md)}.enemy-section .section-label[data-v-8635a8f4],.ally-section .section-label[data-v-8635a8f4]{text-align:center;font-size:var(--font-size-sm);color:var(--color-text-secondary);margin-bottom:var(--spacing-sm)}.enemy-section .units-row[data-v-8635a8f4],.ally-section .units-row[data-v-8635a8f4]{display:flex;justify-content:center;gap:var(--spacing-md);flex-wrap:wrap}.battle-log-section[data-v-8635a8f4]{flex:1;min-height:100px;overflow:hidden}.battle-footer[data-v-8635a8f4]{padding:var(--spacing-md);border-top:1px solid var(--color-border);flex-shrink:0}.enemy-turn-indicator[data-v-8635a8f4]{display:flex;justify-content:center;align-items:center;gap:var(--spacing-sm);color:var(--color-text-secondary)}.battle-result[data-v-8635a8f4]{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-md)}.battle-result .result-victory[data-v-8635a8f4],.battle-result .result-defeat[data-v-8635a8f4]{display:flex;align-items:center;gap:var(--spacing-sm);font-size:var(--font-size-xl);font-family:var(--font-title)}.battle-result .result-victory .result-icon[data-v-8635a8f4],.battle-result .result-defeat .result-icon[data-v-8635a8f4]{font-size:32px}.battle-result .result-victory[data-v-8635a8f4]{color:var(--color-success)}.battle-result .result-victory .result-text[data-v-8635a8f4]{text-shadow:0 0 10px var(--color-success)}.battle-result .result-defeat[data-v-8635a8f4]{color:var(--color-danger)}.battle-result .result-defeat .result-text[data-v-8635a8f4]{text-shadow:0 0 10px var(--color-danger)}.collapse-btn[data-v-8635a8f4]{position:absolute;bottom:calc(var(--spacing-md) + 60px);left:50%;transform:translateX(-50%);padding:var(--spacing-xs) var(--spacing-md);background:var(--color-bg-secondary);border:1px solid var(--color-border);border-radius:var(--radius-sm);color:var(--color-text-secondary);cursor:pointer;transition:var(--transition-normal);font-size:var(--font-size-sm)}.collapse-btn[data-v-8635a8f4]:hover{color:var(--color-text-primary);border-color:var(--color-accent)}
.main-view[data-v-1e8ee9e1]{display:flex;flex-direction:column;height:100%;gap:var(--space-md);padding:var(--space-md)}.story-section[data-v-1e8ee9e1]{flex:1;min-height:0;overflow:hidden}.story-panel[data-v-1e8ee9e1]{height:100%;display:flex;flex-direction:column;position:relative;padding:var(--space-sm)}.panel-decoration[data-v-1e8ee9e1]{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-xs) var(--space-md);flex-shrink:0}.panel-decoration .decoration-line[data-v-1e8ee9e1]{flex:1;height:1px;background:linear-gradient(90deg, transparent, var(--gold-dark) 30%, var(--gold-primary) 50%, var(--gold-dark) 70%, transparent)}.panel-decoration .decoration-icon[data-v-1e8ee9e1]{color:var(--gold-primary);opacity:.7}.panel-decoration.top .decoration-line[data-v-1e8ee9e1]{background:linear-gradient(90deg, transparent, var(--gold-dark))}.panel-decoration.top .decoration-line[data-v-1e8ee9e1]:last-of-type{background:linear-gradient(90deg, var(--gold-dark), transparent)}.panel-decoration.bottom .decoration-line[data-v-1e8ee9e1]{background:linear-gradient(90deg, transparent, var(--gold-dark))}.panel-decoration.bottom .decoration-line[data-v-1e8ee9e1]:last-of-type{background:linear-gradient(90deg, var(--gold-dark), transparent)}.story-content[data-v-1e8ee9e1]{flex:1;overflow-y:auto;padding:var(--space-md);padding-right:var(--space-sm)}.messages-container[data-v-1e8ee9e1]{display:flex;flex-direction:column;gap:var(--space-md)}.story-message[data-v-1e8ee9e1]{animation:fade-in-up-1e8ee9e1 .3s ease-out}.story-message.narration .narration-block[data-v-1e8ee9e1]{padding:var(--space-sm) 0}.story-message.narration .narration-text[data-v-1e8ee9e1]{font-family:var(--font-body);color:var(--text-primary);line-height:var(--leading-relaxed)}.story-message.narration .narration-text[data-v-1e8ee9e1] em{color:var(--gold-bright);font-style:italic}.story-message.narration .narration-text[data-v-1e8ee9e1] strong{color:var(--text-brightest);font-weight:600}.story-message.dialogue .dialogue-block[data-v-1e8ee9e1]{display:flex;gap:var(--space-sm);padding:var(--space-sm);padding-left:var(--space-md);border-left:3px solid var(--gold-primary);background:rgba(var(--gold-primary-rgb), 0.05);border-radius:0 var(--radius-md) var(--radius-md) 0}.story-message.dialogue .speaker-avatar[data-v-1e8ee9e1]{flex-shrink:0;width:40px;height:40px;border-radius:var(--radius-full);overflow:hidden;border:2px solid var(--gold-dark)}.story-message.dialogue .speaker-avatar img[data-v-1e8ee9e1]{width:100%;height:100%;object-fit:cover}.story-message.dialogue .dialogue-content[data-v-1e8ee9e1]{display:flex;flex-direction:column;gap:2px}.story-message.dialogue .speaker-name[data-v-1e8ee9e1]{font-family:var(--font-ui);font-size:var(--text-sm);font-weight:600;color:var(--gold-primary)}.story-message.dialogue .dialogue-text[data-v-1e8ee9e1]{font-family:var(--font-body);color:var(--text-primary);line-height:var(--leading-relaxed)}.story-message.system .system-message[data-v-1e8ee9e1]{display:flex;align-items:flex-start;gap:var(--space-sm);padding:var(--space-sm) var(--space-md);background:rgba(var(--info-rgb), 0.1);border:1px solid rgba(var(--info-rgb), 0.3);border-radius:var(--radius-md)}.story-message.system .system-icon[data-v-1e8ee9e1]{flex-shrink:0;color:var(--info);margin-top:2px}.story-message.system .system-text[data-v-1e8ee9e1]{font-family:var(--font-ui);font-size:var(--text-sm);color:var(--info-light);line-height:var(--leading-normal)}.story-message.action .action-message[data-v-1e8ee9e1]{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-md);background:rgba(var(--gold-primary-rgb), 0.1);border:1px solid rgba(var(--gold-primary-rgb), 0.3);border-radius:var(--radius-md);margin-left:auto;max-width:85%}.story-message.action .action-msg-icon[data-v-1e8ee9e1]{flex-shrink:0;color:var(--gold-primary)}.story-message.action .action-msg-text[data-v-1e8ee9e1]{font-family:var(--font-ui);font-size:var(--text-sm);color:var(--gold-bright);font-weight:500}.message-enter-active[data-v-1e8ee9e1]{transition:all .4s ease-out}.message-leave-active[data-v-1e8ee9e1]{transition:all .2s ease-in}.message-enter-from[data-v-1e8ee9e1]{opacity:0;transform:translateY(20px)}.message-leave-to[data-v-1e8ee9e1]{opacity:0;transform:translateX(-20px)}.loading-indicator[data-v-1e8ee9e1]{display:flex;flex-direction:column;align-items:center;gap:var(--space-sm);padding:var(--space-lg)}.loading-indicator .loading-spinner[data-v-1e8ee9e1]{color:var(--gold-primary)}.loading-indicator .loading-text[data-v-1e8ee9e1]{font-family:var(--font-ui);font-size:var(--text-sm);color:var(--text-muted)}.fade-enter-active[data-v-1e8ee9e1],.fade-leave-active[data-v-1e8ee9e1]{transition:opacity .3s ease}.fade-enter-from[data-v-1e8ee9e1],.fade-leave-to[data-v-1e8ee9e1]{opacity:0}.action-section[data-v-1e8ee9e1]{flex-shrink:0}.action-panel[data-v-1e8ee9e1]{padding:var(--space-md);background:var(--gradient-glass);backdrop-filter:blur(var(--glass-blur));border:1px solid var(--border-light);border-radius:var(--radius-lg)}.action-options[data-v-1e8ee9e1]{display:flex;flex-wrap:wrap;gap:var(--space-sm);margin-bottom:var(--space-md)}.action-btn[data-v-1e8ee9e1]{display:inline-flex;align-items:center;gap:var(--space-xs);padding:var(--space-xs) var(--space-md);font-family:var(--font-ui);font-size:var(--text-sm);color:var(--text-primary);background:rgba(var(--bg-card-rgb), 0.8);border:1px solid var(--border-light);border-radius:var(--radius-md);cursor:pointer;transition:var(--transition-normal)}.action-btn .action-icon[data-v-1e8ee9e1]{color:var(--gold-primary);transition:var(--transition-normal)}.action-btn[data-v-1e8ee9e1]:hover:not(:disabled){border-color:var(--gold-primary);background:rgba(var(--gold-primary-rgb), 0.1)}.action-btn:hover:not(:disabled) .action-icon[data-v-1e8ee9e1]{transform:translateX(2px)}.action-btn[data-v-1e8ee9e1]:active:not(:disabled){transform:scale(0.98)}.action-btn[data-v-1e8ee9e1]:disabled{opacity:.5;cursor:not-allowed}.battle-trigger-btn[data-v-1e8ee9e1]{display:flex;align-items:center;justify-content:center;gap:var(--space-md);width:100%;padding:var(--space-md);margin-bottom:var(--space-md);font-family:var(--font-display);font-size:var(--text-lg);font-weight:600;color:var(--text-brightest);background:var(--gradient-battle);border:1px solid var(--danger);border-radius:var(--radius-md);cursor:pointer;transition:var(--transition-normal);box-shadow:var(--shadow-md)}.battle-trigger-btn .battle-icon[data-v-1e8ee9e1]{color:var(--text-brightest);transition:var(--transition-normal)}.battle-trigger-btn .battle-icon.left[data-v-1e8ee9e1]{transform:scaleX(-1)}.battle-trigger-btn .battle-text[data-v-1e8ee9e1]{text-shadow:0 2px 4px rgba(0,0,0,.3)}.battle-trigger-btn[data-v-1e8ee9e1]:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg),var(--shadow-glow-danger)}.battle-trigger-btn:hover .battle-icon.left[data-v-1e8ee9e1]{transform:scaleX(-1) translateX(-4px)}.battle-trigger-btn:hover .battle-icon.right[data-v-1e8ee9e1]{transform:translateX(4px)}.battle-trigger-btn[data-v-1e8ee9e1]:active{transform:translateY(0) scale(0.98)}.custom-input-area .input-wrapper[data-v-1e8ee9e1]{display:flex;gap:var(--space-sm)}.custom-input[data-v-1e8ee9e1]{flex:1;padding:var(--space-sm) var(--space-md);font-family:var(--font-body);font-size:var(--text-base);color:var(--text-primary);background:rgba(var(--bg-dark-rgb), 0.6);border:1px solid var(--border-light);border-radius:var(--radius-md);transition:var(--transition-normal)}.custom-input[data-v-1e8ee9e1]::placeholder{color:var(--text-muted)}.custom-input[data-v-1e8ee9e1]:focus{outline:none;border-color:var(--gold-primary);box-shadow:0 0 0 3px rgba(var(--gold-primary-rgb), 0.15)}.custom-input[data-v-1e8ee9e1]:disabled{opacity:.5;cursor:not-allowed}.send-btn[data-v-1e8ee9e1]{display:flex;align-items:center;justify-content:center;width:44px;height:44px;color:var(--bg-deepest);background:var(--gradient-gold);border:none;border-radius:var(--radius-md);cursor:pointer;transition:var(--transition-normal);box-shadow:var(--shadow-sm)}.send-btn[data-v-1e8ee9e1]:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-md),var(--shadow-glow-gold)}.send-btn[data-v-1e8ee9e1]:active:not(:disabled){transform:translateY(0) scale(0.95)}.send-btn[data-v-1e8ee9e1]:disabled{opacity:.5;cursor:not-allowed}@keyframes fade-in-up-1e8ee9e1{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.battle-btn-enter-active[data-v-1e8ee9e1],.battle-btn-leave-active[data-v-1e8ee9e1]{transition:all .3s var(--ease-bounce)}.battle-btn-enter-from[data-v-1e8ee9e1],.battle-btn-leave-to[data-v-1e8ee9e1]{opacity:0;transform:scale(0.8)}.battle-panel-enter-active[data-v-1e8ee9e1]{transition:all .4s cubic-bezier(0.4, 0, 0.2, 1)}.battle-panel-leave-active[data-v-1e8ee9e1]{transition:all .3s ease}.battle-panel-enter-from[data-v-1e8ee9e1]{opacity:0;transform:translateY(100%)}.battle-panel-leave-to[data-v-1e8ee9e1]{opacity:0;transform:scale(0.95)}.animate-spin[data-v-1e8ee9e1]{animation:spin-1e8ee9e1 1s linear infinite}@keyframes spin-1e8ee9e1{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
.modal-view[data-v-139b8a1a]{height:100%;padding:var(--space-md);display:flex;align-items:center;justify-content:center}.modal-panel[data-v-139b8a1a]{width:100%;max-width:600px;max-height:600px;display:flex;flex-direction:column;padding:var(--space-lg);animation:scale-in-139b8a1a .3s ease-out}.modal-header[data-v-139b8a1a]{display:flex;align-items:center;gap:var(--space-md);margin-bottom:var(--space-lg)}.modal-header .header-decoration[data-v-139b8a1a]{flex:1}.modal-header .header-decoration .decoration-line[data-v-139b8a1a]{height:2px;background:linear-gradient(90deg, transparent, var(--gold-dark))}.modal-header .header-decoration.right .decoration-line[data-v-139b8a1a]{background:linear-gradient(90deg, var(--gold-dark), transparent)}.modal-header .header-title[data-v-139b8a1a]{display:flex;flex-direction:column;align-items:center;gap:var(--space-xs)}.modal-header .header-title .title-icon[data-v-139b8a1a]{color:var(--gold-bright);animation:float-gentle-139b8a1a 3s ease-in-out infinite}.modal-header .header-title h2[data-v-139b8a1a]{font-family:var(--font-display);font-size:var(--text-2xl);color:var(--gold-primary);margin:0;text-shadow:0 2px 10px rgba(var(--gold-primary-rgb), 0.3)}.modal-header .header-title .subtitle[data-v-139b8a1a]{font-family:var(--font-ui);font-size:var(--text-xs);color:var(--text-muted);text-transform:uppercase;letter-spacing:2px}.modal-content[data-v-139b8a1a]{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:var(--space-lg)}.section .section-title[data-v-139b8a1a]{display:flex;align-items:center;gap:var(--space-sm);font-family:var(--font-ui);font-size:var(--text-sm);color:var(--gold-primary);margin-bottom:var(--space-md);padding-bottom:var(--space-xs);border-bottom:1px solid var(--border-subtle)}.character-grid[data-v-139b8a1a]{display:grid;grid-template-columns:repeat(3, 1fr);gap:var(--space-sm)}.character-slot[data-v-139b8a1a]{display:flex;flex-direction:column;align-items:center;gap:var(--space-xs);padding:var(--space-md);background:rgba(var(--bg-card-rgb), 0.5);border:1px solid var(--border-subtle);border-radius:var(--radius-md);transition:var(--transition-normal);cursor:pointer}.character-slot .character-avatar[data-v-139b8a1a]{width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--gradient-gold);border-radius:var(--radius-full);color:var(--bg-deepest)}.character-slot .character-name[data-v-139b8a1a]{font-family:var(--font-ui);font-size:var(--text-xs);color:var(--text-primary)}.character-slot.empty[data-v-139b8a1a]{border-style:dashed;opacity:.5}.character-slot.empty .empty-slot[data-v-139b8a1a]{width:48px;height:48px;display:flex;align-items:center;justify-content:center;color:var(--text-muted)}.character-slot[data-v-139b8a1a]:hover:not(.empty){border-color:var(--gold-primary);background:rgba(var(--gold-primary-rgb), 0.1)}.stats-grid[data-v-139b8a1a]{display:flex;flex-direction:column;gap:var(--space-sm)}.stat-item[data-v-139b8a1a]{display:flex;align-items:center;gap:var(--space-sm)}.stat-item .stat-label[data-v-139b8a1a]{width:48px;font-family:var(--font-ui);font-size:var(--text-xs);color:var(--text-secondary)}.stat-item .stat-bar[data-v-139b8a1a]{flex:1;height:8px;background:var(--bg-dark);border-radius:var(--radius-full);overflow:hidden}.stat-item .stat-bar .stat-fill[data-v-139b8a1a]{height:100%;background:var(--gradient-gold);border-radius:var(--radius-full);transition:width .5s ease-out}.stat-item .stat-value[data-v-139b8a1a]{width:32px;font-family:var(--font-ui);font-size:var(--text-xs);font-weight:600;color:var(--gold-primary);text-align:right}.coming-soon-notice[data-v-139b8a1a]{display:flex;align-items:center;justify-content:center;gap:var(--space-sm);padding:var(--space-md);background:rgba(var(--info-rgb), 0.1);border:1px solid rgba(var(--info-rgb), 0.3);border-radius:var(--radius-md);font-family:var(--font-ui);font-size:var(--text-sm);color:var(--info-light)}@keyframes scale-in-139b8a1a{from{opacity:0;transform:scale(0.9)}to{opacity:1;transform:scale(1)}}@keyframes float-gentle-139b8a1a{0%,100%{transform:translateY(0)}50%{transform:translateY(-4px)}}
.modal-view[data-v-61dee0e2]{height:100%;padding:var(--space-md);display:flex;align-items:center;justify-content:center}.modal-panel[data-v-61dee0e2]{width:100%;max-width:600px;max-height:600px;display:flex;flex-direction:column;padding:var(--space-lg);animation:scale-in-61dee0e2 .3s ease-out}.modal-header[data-v-61dee0e2]{display:flex;align-items:center;gap:var(--space-md);margin-bottom:var(--space-lg)}.modal-header .header-decoration[data-v-61dee0e2]{flex:1}.modal-header .header-decoration .decoration-line[data-v-61dee0e2]{height:2px;background:linear-gradient(90deg, transparent, var(--danger-dark))}.modal-header .header-decoration.right .decoration-line[data-v-61dee0e2]{background:linear-gradient(90deg, var(--danger-dark), transparent)}.modal-header .header-title[data-v-61dee0e2]{display:flex;flex-direction:column;align-items:center;gap:var(--space-xs)}.modal-header .header-title .title-icon[data-v-61dee0e2]{color:var(--danger);animation:pulse-scale-61dee0e2 2s ease-in-out infinite}.modal-header .header-title h2[data-v-61dee0e2]{font-family:var(--font-display);font-size:var(--text-2xl);color:var(--danger);margin:0;text-shadow:0 2px 10px rgba(var(--danger-rgb), 0.3)}.modal-header .header-title .subtitle[data-v-61dee0e2]{font-family:var(--font-ui);font-size:var(--text-xs);color:var(--text-muted);text-transform:uppercase;letter-spacing:2px}.modal-content[data-v-61dee0e2]{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:var(--space-lg)}.section .section-title[data-v-61dee0e2]{display:flex;align-items:center;gap:var(--space-sm);font-family:var(--font-ui);font-size:var(--text-sm);color:var(--danger);margin-bottom:var(--space-md);padding-bottom:var(--space-xs);border-bottom:1px solid var(--border-subtle)}.map-preview[data-v-61dee0e2]{aspect-ratio:16/9;background:rgba(var(--bg-dark-rgb), 0.5);border:1px solid var(--border-subtle);border-radius:var(--radius-md);overflow:hidden}.map-placeholder[data-v-61dee0e2]{width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:var(--space-sm);color:var(--text-muted)}.map-placeholder .map-icon[data-v-61dee0e2]{opacity:.3;animation:spin-61dee0e2 10s linear infinite}.map-placeholder span[data-v-61dee0e2]{font-family:var(--font-ui);font-size:var(--text-sm)}.territory-list[data-v-61dee0e2]{display:flex;flex-direction:column;gap:var(--space-sm)}.territory-item[data-v-61dee0e2]{display:flex;align-items:center;justify-content:space-between;padding:var(--space-sm) var(--space-md);background:rgba(var(--bg-card-rgb), 0.5);border:1px solid var(--border-subtle);border-radius:var(--radius-md);transition:var(--transition-normal)}.territory-item .territory-info[data-v-61dee0e2]{display:flex;align-items:center;gap:var(--space-md)}.territory-item .territory-name[data-v-61dee0e2]{font-family:var(--font-ui);font-size:var(--text-sm);color:var(--text-primary)}.territory-item .territory-difficulty[data-v-61dee0e2]{font-family:var(--font-ui);font-size:var(--text-xs);padding:2px var(--space-sm);border-radius:var(--radius-full)}.territory-item .territory-difficulty.badge-warning[data-v-61dee0e2]{background:rgba(var(--warning-rgb), 0.2);color:var(--warning-light);border:1px solid var(--warning-dark)}.territory-item .territory-difficulty.badge-danger[data-v-61dee0e2]{background:rgba(var(--danger-rgb), 0.2);color:var(--danger-light);border:1px solid var(--danger-dark)}.territory-item .territory-difficulty.badge-magic[data-v-61dee0e2]{background:rgba(var(--magic-rgb), 0.2);color:var(--magic-light);border:1px solid var(--magic-dark)}.territory-item .attack-btn[data-v-61dee0e2]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--gradient-battle);border:none;border-radius:var(--radius-md);color:var(--text-brightest);cursor:pointer;transition:var(--transition-normal)}.territory-item .attack-btn[data-v-61dee0e2]:hover:not(:disabled){transform:scale(1.1);box-shadow:var(--shadow-glow-danger)}.territory-item .attack-btn[data-v-61dee0e2]:disabled{opacity:.3;cursor:not-allowed}.territory-item.locked[data-v-61dee0e2]{opacity:.5}.territory-item.locked .territory-name[data-v-61dee0e2]{color:var(--text-muted)}.territory-item[data-v-61dee0e2]:hover:not(.locked){border-color:var(--danger-dark);background:rgba(var(--danger-rgb), 0.05)}.coming-soon-notice[data-v-61dee0e2]{display:flex;align-items:center;justify-content:center;gap:var(--space-sm);padding:var(--space-md);background:rgba(var(--info-rgb), 0.1);border:1px solid rgba(var(--info-rgb), 0.3);border-radius:var(--radius-md);font-family:var(--font-ui);font-size:var(--text-sm);color:var(--info-light)}@keyframes scale-in-61dee0e2{from{opacity:0;transform:scale(0.9)}to{opacity:1;transform:scale(1)}}@keyframes pulse-scale-61dee0e2{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}@keyframes spin-61dee0e2{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
.modal-view[data-v-8369cf00]{height:100%;padding:var(--space-md);display:flex;align-items:center;justify-content:center}.modal-panel[data-v-8369cf00]{width:100%;max-width:600px;max-height:600px;display:flex;flex-direction:column;padding:var(--space-lg);animation:scale-in-8369cf00 .3s ease-out}.modal-header[data-v-8369cf00]{display:flex;align-items:center;gap:var(--space-md);margin-bottom:var(--space-lg)}.modal-header .header-decoration[data-v-8369cf00]{flex:1}.modal-header .header-decoration .decoration-line[data-v-8369cf00]{height:2px;background:linear-gradient(90deg, transparent, var(--info-dark))}.modal-header .header-decoration.right .decoration-line[data-v-8369cf00]{background:linear-gradient(90deg, var(--info-dark), transparent)}.modal-header .header-title[data-v-8369cf00]{display:flex;flex-direction:column;align-items:center;gap:var(--space-xs)}.modal-header .header-title .title-icon[data-v-8369cf00]{color:var(--info);animation:float-gentle-8369cf00 3s ease-in-out infinite}.modal-header .header-title h2[data-v-8369cf00]{font-family:var(--font-display);font-size:var(--text-2xl);color:var(--info);margin:0;text-shadow:0 2px 10px rgba(var(--info-rgb), 0.3)}.modal-header .header-title .subtitle[data-v-8369cf00]{font-family:var(--font-ui);font-size:var(--text-xs);color:var(--text-muted);text-transform:uppercase;letter-spacing:2px}.modal-content[data-v-8369cf00]{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:var(--space-lg)}.section .section-title[data-v-8369cf00]{display:flex;align-items:center;gap:var(--space-sm);font-family:var(--font-ui);font-size:var(--text-sm);color:var(--info);margin-bottom:var(--space-md);padding-bottom:var(--space-xs);border-bottom:1px solid var(--border-subtle)}.unit-slots[data-v-8369cf00]{display:flex;gap:var(--space-md)}.unit-slot[data-v-8369cf00]{flex:1;display:flex;flex-direction:column;align-items:center;gap:var(--space-sm);padding:var(--space-md);background:rgba(var(--bg-card-rgb), 0.5);border:1px solid var(--border-subtle);border-radius:var(--radius-md);transition:var(--transition-normal);cursor:pointer}.unit-slot .unit-icon[data-v-8369cf00]{width:48px;height:48px;display:flex;align-items:center;justify-content:center;background:var(--gradient-gold);border-radius:var(--radius-md);color:var(--bg-deepest)}.unit-slot .unit-icon.archer[data-v-8369cf00]{background:var(--gradient-magic)}.unit-slot .unit-info[data-v-8369cf00]{display:flex;flex-direction:column;align-items:center;gap:2px}.unit-slot .unit-type[data-v-8369cf00]{font-family:var(--font-ui);font-size:var(--text-sm);color:var(--text-primary)}.unit-slot .unit-count[data-v-8369cf00]{font-family:var(--font-ui);font-size:var(--text-xs);color:var(--text-muted)}.unit-slot.empty[data-v-8369cf00]{border-style:dashed;opacity:.5}.unit-slot.empty .add-icon[data-v-8369cf00]{color:var(--text-muted)}.unit-slot.empty .add-text[data-v-8369cf00]{font-family:var(--font-ui);font-size:var(--text-xs);color:var(--text-muted)}.unit-slot.empty[data-v-8369cf00]:hover{opacity:.8;border-color:var(--info)}.unit-slot.filled[data-v-8369cf00]:hover{border-color:var(--info);background:rgba(var(--info-rgb), 0.1)}.formation-grid[data-v-8369cf00]{display:flex;flex-direction:column;gap:var(--space-xs);align-items:center}.grid-row[data-v-8369cf00]{display:flex;gap:var(--space-xs)}.grid-cell[data-v-8369cf00]{width:64px;height:64px;display:flex;align-items:center;justify-content:center;background:rgba(var(--bg-dark-rgb), 0.3);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);font-family:var(--font-ui);font-size:var(--text-xs);color:var(--text-muted);transition:var(--transition-normal)}.grid-cell.occupied[data-v-8369cf00]{background:rgba(var(--info-rgb), 0.2);border-color:var(--info-dark);color:var(--info-light)}.grid-cell.center[data-v-8369cf00]{background:rgba(var(--gold-primary-rgb), 0.2);border-color:var(--gold-dark);color:var(--gold-primary)}.grid-cell[data-v-8369cf00]:hover:not(.center){border-color:var(--info);background:rgba(var(--info-rgb), 0.1)}.coming-soon-notice[data-v-8369cf00]{display:flex;align-items:center;justify-content:center;gap:var(--space-sm);padding:var(--space-md);background:rgba(var(--info-rgb), 0.1);border:1px solid rgba(var(--info-rgb), 0.3);border-radius:var(--radius-md);font-family:var(--font-ui);font-size:var(--text-sm);color:var(--info-light)}@keyframes scale-in-8369cf00{from{opacity:0;transform:scale(0.9)}to{opacity:1;transform:scale(1)}}@keyframes float-gentle-8369cf00{0%,100%{transform:translateY(0)}50%{transform:translateY(-4px)}}
.modal-view[data-v-1102685f]{height:100%;padding:var(--space-md);display:flex;align-items:center;justify-content:center}.modal-panel[data-v-1102685f]{width:100%;max-width:600px;max-height:600px;display:flex;flex-direction:column;padding:var(--space-lg);animation:scale-in-1102685f .3s ease-out}.modal-header[data-v-1102685f]{display:flex;align-items:center;gap:var(--space-md);margin-bottom:var(--space-lg)}.modal-header .header-decoration[data-v-1102685f]{flex:1}.modal-header .header-decoration .decoration-line[data-v-1102685f]{height:2px;background:linear-gradient(90deg, transparent, var(--success-dark))}.modal-header .header-decoration.right .decoration-line[data-v-1102685f]{background:linear-gradient(90deg, var(--success-dark), transparent)}.modal-header .header-title[data-v-1102685f]{display:flex;flex-direction:column;align-items:center;gap:var(--space-xs)}.modal-header .header-title .title-icon[data-v-1102685f]{color:var(--success);animation:bounce-slow-1102685f 2s ease-in-out infinite}.modal-header .header-title h2[data-v-1102685f]{font-family:var(--font-display);font-size:var(--text-2xl);color:var(--success);margin:0;text-shadow:0 2px 10px rgba(var(--success-rgb), 0.3)}.modal-header .header-title .subtitle[data-v-1102685f]{font-family:var(--font-ui);font-size:var(--text-xs);color:var(--text-muted);text-transform:uppercase;letter-spacing:2px}.modal-content[data-v-1102685f]{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:var(--space-lg)}.section .section-title[data-v-1102685f]{display:flex;align-items:center;gap:var(--space-sm);font-family:var(--font-ui);font-size:var(--text-sm);color:var(--success);margin-bottom:var(--space-md);padding-bottom:var(--space-xs);border-bottom:1px solid var(--border-subtle)}.resources-grid[data-v-1102685f]{display:grid;grid-template-columns:repeat(3, 1fr);gap:var(--space-sm)}.resource-card[data-v-1102685f]{display:flex;flex-direction:column;align-items:center;gap:var(--space-xs);padding:var(--space-md);background:rgba(var(--bg-card-rgb), 0.5);border:1px solid var(--border-subtle);border-radius:var(--radius-md);transition:var(--transition-normal)}.resource-card .resource-icon[data-v-1102685f]{color:var(--gold-primary)}.resource-card .resource-info[data-v-1102685f]{display:flex;flex-direction:column;align-items:center}.resource-card .resource-value[data-v-1102685f]{font-family:var(--font-ui);font-size:var(--text-lg);font-weight:600;color:var(--text-primary)}.resource-card .resource-label[data-v-1102685f]{font-family:var(--font-ui);font-size:var(--text-xs);color:var(--text-muted)}.resource-card .resource-rate[data-v-1102685f]{font-family:var(--font-ui);font-size:var(--text-xs);color:var(--success)}.resource-card.gold .resource-icon[data-v-1102685f]{color:var(--gold-bright)}.resource-card.supplies .resource-icon[data-v-1102685f]{color:var(--warning)}.resource-card.population .resource-icon[data-v-1102685f]{color:var(--info)}.resource-card.population .resource-rate[data-v-1102685f]{color:var(--text-muted)}.resource-card[data-v-1102685f]:hover{border-color:var(--success-dark);background:rgba(var(--success-rgb), 0.05)}.buildings-list[data-v-1102685f]{display:flex;flex-direction:column;gap:var(--space-sm)}.building-item[data-v-1102685f]{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-sm) var(--space-md);background:rgba(var(--bg-card-rgb), 0.5);border:1px solid var(--border-subtle);border-radius:var(--radius-md);transition:var(--transition-normal)}.building-item .building-icon[data-v-1102685f]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--gradient-gold);border-radius:var(--radius-md);color:var(--bg-deepest)}.building-item .building-icon.market[data-v-1102685f]{background:var(--gradient-magic)}.building-item .building-info[data-v-1102685f]{flex:1;display:flex;flex-direction:column;gap:2px}.building-item .building-name[data-v-1102685f]{font-family:var(--font-ui);font-size:var(--text-sm);color:var(--text-primary)}.building-item .building-level[data-v-1102685f]{font-family:var(--font-ui);font-size:var(--text-xs);color:var(--gold-primary)}.building-item .upgrade-btn[data-v-1102685f]{display:flex;align-items:center;gap:var(--space-xs);padding:var(--space-xs) var(--space-sm);font-family:var(--font-ui);font-size:var(--text-xs);color:var(--bg-deepest);background:var(--success);border:none;border-radius:var(--radius-sm);cursor:pointer;transition:var(--transition-normal)}.building-item .upgrade-btn[data-v-1102685f]:hover:not(:disabled){background:var(--success-light);transform:translateY(-1px)}.building-item .upgrade-btn[data-v-1102685f]:disabled{opacity:.3;cursor:not-allowed;background:var(--text-muted)}.building-item.locked[data-v-1102685f]{opacity:.5}.building-item.locked .building-icon[data-v-1102685f]{background:var(--bg-light)}.building-item.locked .building-level[data-v-1102685f]{color:var(--text-muted)}.building-item[data-v-1102685f]:hover:not(.locked){border-color:var(--success-dark);background:rgba(var(--success-rgb), 0.05)}.coming-soon-notice[data-v-1102685f]{display:flex;align-items:center;justify-content:center;gap:var(--space-sm);padding:var(--space-md);background:rgba(var(--info-rgb), 0.1);border:1px solid rgba(var(--info-rgb), 0.3);border-radius:var(--radius-md);font-family:var(--font-ui);font-size:var(--text-sm);color:var(--info-light)}@keyframes scale-in-1102685f{from{opacity:0;transform:scale(0.9)}to{opacity:1;transform:scale(1)}}@keyframes bounce-slow-1102685f{0%,100%{transform:translateY(0)}50%{transform:translateY(-4px)}}
:root{--bg-deepest: #0D0705;--bg-dark: #1A0F0A;--bg-medium: #2C1810;--bg-card: #3D2817;--bg-light: #4A3528;--bg-hover: #5A4538;--bg-dark-rgb: 26, 15, 10;--bg-medium-rgb: 44, 24, 16;--bg-card-rgb: 61, 40, 23;--gold-brightest: #FFE066;--gold-bright: #F4D03F;--gold-primary: #D4AF37;--gold-deep: #B8860B;--gold-dark: #8B6914;--gold-darkest: #5C4510;--gold-primary-rgb: 212, 175, 55;--gold-bright-rgb: 244, 208, 63;--success: #3D8B4A;--success-light: #5CAB6A;--success-dark: #2D6B3A;--success-rgb: 61, 139, 74;--danger: #B83232;--danger-light: #D84848;--danger-dark: #8B2424;--danger-rgb: 184, 50, 50;--warning: #D4853D;--warning-light: #E4A55D;--warning-dark: #B4652D;--warning-rgb: 212, 133, 61;--info: #4A7BB8;--info-light: #6A9BD8;--info-dark: #3A5B88;--info-rgb: 74, 123, 184;--magic: #7B5CB8;--magic-light: #9B7CD8;--magic-dark: #5B3C88;--magic-rgb: 123, 92, 184;--text-brightest: #FFF8E7;--text-primary: #E8DCC4;--text-secondary: #B8A890;--text-muted: #7B6B5F;--text-disabled: #4A4038;--border-light: rgba(212, 175, 55, 0.4);--border-medium: rgba(212, 175, 55, 0.6);--border-strong: var(--gold-primary);--border-subtle: rgba(255, 255, 255, 0.1);--gradient-parchment: linear-gradient( 135deg, var(--bg-card) 0%, var(--bg-medium) 50%, var(--bg-dark) 100% );--gradient-gold: linear-gradient( 180deg, var(--gold-bright) 0%, var(--gold-primary) 50%, var(--gold-deep) 100% );--gradient-gold-horizontal: linear-gradient( 90deg, var(--gold-dark), var(--gold-bright), var(--gold-primary), var(--gold-bright), var(--gold-dark) );--gradient-glass: linear-gradient( 135deg, rgba(61, 40, 23, 0.85) 0%, rgba(44, 24, 16, 0.92) 100% );--gradient-overlay: linear-gradient( 180deg, rgba(13, 7, 5, 0.95) 0%, rgba(26, 15, 10, 0.98) 100% );--gradient-top-bar: linear-gradient( 180deg, rgba(61, 40, 23, 0.95) 0%, rgba(44, 24, 16, 0.9) 70%, transparent 100% );--gradient-bottom-bar: linear-gradient( 0deg, rgba(61, 40, 23, 0.98) 0%, rgba(44, 24, 16, 0.95) 70%, transparent 100% );--gradient-battle: linear-gradient( 135deg, var(--danger) 0%, var(--danger-dark) 100% );--gradient-magic: linear-gradient( 135deg, var(--magic) 0%, var(--magic-dark) 100% );--space-xs: 0.25rem;--space-sm: 0.5rem;--space-md: 1rem;--space-lg: 1.5rem;--space-xl: 2rem;--space-2xl: 3rem;--space-3xl: 4rem;--radius-xs: 2px;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px;--radius-2xl: 24px;--radius-full: 9999px;--font-display: 'Cinzel Decorative', 'ZCOOL XiaoWei', 'Noto Serif SC', serif;--font-body: 'Noto Serif SC', 'Source Han Serif CN', 'SimSun', serif;--font-ui: 'Inter', 'Noto Sans SC', 'Microsoft YaHei', sans-serif;--text-xs: 0.75rem;--text-sm: 0.875rem;--text-base: 1rem;--text-lg: 1.125rem;--text-xl: 1.5rem;--text-2xl: 2rem;--text-3xl: 2.5rem;--text-4xl: 3rem;--leading-none: 1;--leading-tight: 1.25;--leading-snug: 1.375;--leading-normal: 1.5;--leading-relaxed: 1.625;--leading-loose: 2;--shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.3);--shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.35);--shadow-md: 0 4px 8px rgba(0, 0, 0, 0.4);--shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.45);--shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.5);--shadow-2xl: 0 16px 32px rgba(0, 0, 0, 0.55);--shadow-inner: inset 0 2px 4px rgba(0, 0, 0, 0.3);--shadow-inner-lg: inset 0 4px 8px rgba(0, 0, 0, 0.4);--shadow-glow-gold: 0 0 20px rgba(212, 175, 55, 0.5);--shadow-glow-gold-strong: 0 0 30px rgba(212, 175, 55, 0.7);--shadow-glow-danger: 0 0 20px rgba(184, 50, 50, 0.5);--shadow-glow-magic: 0 0 20px rgba(123, 92, 184, 0.5);--shadow-glass: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.08);--transition-fast: 0.15s ease;--transition-normal: 0.25s ease;--transition-slow: 0.4s ease;--transition-slower: 0.6s ease;--ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);--ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);--ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);--z-base: 0;--z-above: 10;--z-dropdown: 100;--z-sticky: 200;--z-fixed: 300;--z-modal-backdrop: 400;--z-modal: 500;--z-popover: 600;--z-tooltip: 700;--z-notification: 800;--z-max: 9999;--glass-blur: 10px;--glass-blur-strong: 20px;--glass-bg-opacity: 0.85;--glass-border-opacity: 0.3;--top-bar-height: 60px;--bottom-bar-height: 80px;--sidebar-width: 280px;--content-max-width: 1200px}#telain-app{width:100%;aspect-ratio:9/16;max-height:800px;overflow:hidden;position:relative}.notifications-container{position:fixed;top:var(--spacing-lg);right:var(--spacing-lg);z-index:10000;display:flex;flex-direction:column;gap:var(--spacing-sm);pointer-events:none}.notification{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm) var(--spacing-md);background:var(--color-bg-card);border:1px solid var(--color-border);border-radius:var(--radius-md);box-shadow:var(--shadow-lg);pointer-events:auto;min-width:200px}.notification .notification-icon{width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-size:var(--font-size-sm);font-weight:bold}.notification .notification-text{flex:1;color:var(--color-text-primary);font-size:var(--font-size-sm)}.notification.info{border-color:var(--color-info)}.notification.info .notification-icon{background:var(--color-info);color:#fff}.notification.success{border-color:var(--color-success)}.notification.success .notification-icon{background:var(--color-success);color:#fff}.notification.warning{border-color:var(--color-warning)}.notification.warning .notification-icon{background:var(--color-warning);color:#fff}.notification.error{border-color:var(--color-danger)}.notification.error .notification-icon{background:var(--color-danger);color:#fff}.notification-enter-active,.notification-leave-active{transition:all .3s ease}.notification-enter-from{opacity:0;transform:translateX(100%)}.notification-leave-to{opacity:0;transform:translateX(100%)}.notification-move{transition:transform .3s ease}
:root{--bg-deepest: #0D0705;--bg-dark: #1A0F0A;--bg-medium: #2C1810;--bg-card: #3D2817;--bg-light: #4A3528;--bg-hover: #5A4538;--bg-dark-rgb: 26, 15, 10;--bg-medium-rgb: 44, 24, 16;--bg-card-rgb: 61, 40, 23;--gold-brightest: #FFE066;--gold-bright: #F4D03F;--gold-primary: #D4AF37;--gold-deep: #B8860B;--gold-dark: #8B6914;--gold-darkest: #5C4510;--gold-primary-rgb: 212, 175, 55;--gold-bright-rgb: 244, 208, 63;--success: #3D8B4A;--success-light: #5CAB6A;--success-dark: #2D6B3A;--success-rgb: 61, 139, 74;--danger: #B83232;--danger-light: #D84848;--danger-dark: #8B2424;--danger-rgb: 184, 50, 50;--warning: #D4853D;--warning-light: #E4A55D;--warning-dark: #B4652D;--warning-rgb: 212, 133, 61;--info: #4A7BB8;--info-light: #6A9BD8;--info-dark: #3A5B88;--info-rgb: 74, 123, 184;--magic: #7B5CB8;--magic-light: #9B7CD8;--magic-dark: #5B3C88;--magic-rgb: 123, 92, 184;--text-brightest: #FFF8E7;--text-primary: #E8DCC4;--text-secondary: #B8A890;--text-muted: #7B6B5F;--text-disabled: #4A4038;--border-light: rgba(212, 175, 55, 0.4);--border-medium: rgba(212, 175, 55, 0.6);--border-strong: var(--gold-primary);--border-subtle: rgba(255, 255, 255, 0.1);--gradient-parchment: linear-gradient( 135deg, var(--bg-card) 0%, var(--bg-medium) 50%, var(--bg-dark) 100% );--gradient-gold: linear-gradient( 180deg, var(--gold-bright) 0%, var(--gold-primary) 50%, var(--gold-deep) 100% );--gradient-gold-horizontal: linear-gradient( 90deg, var(--gold-dark), var(--gold-bright), var(--gold-primary), var(--gold-bright), var(--gold-dark) );--gradient-glass: linear-gradient( 135deg, rgba(61, 40, 23, 0.85) 0%, rgba(44, 24, 16, 0.92) 100% );--gradient-overlay: linear-gradient( 180deg, rgba(13, 7, 5, 0.95) 0%, rgba(26, 15, 10, 0.98) 100% );--gradient-top-bar: linear-gradient( 180deg, rgba(61, 40, 23, 0.95) 0%, rgba(44, 24, 16, 0.9) 70%, transparent 100% );--gradient-bottom-bar: linear-gradient( 0deg, rgba(61, 40, 23, 0.98) 0%, rgba(44, 24, 16, 0.95) 70%, transparent 100% );--gradient-battle: linear-gradient( 135deg, var(--danger) 0%, var(--danger-dark) 100% );--gradient-magic: linear-gradient( 135deg, var(--magic) 0%, var(--magic-dark) 100% );--space-xs: 0.25rem;--space-sm: 0.5rem;--space-md: 1rem;--space-lg: 1.5rem;--space-xl: 2rem;--space-2xl: 3rem;--space-3xl: 4rem;--radius-xs: 2px;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 16px;--radius-2xl: 24px;--radius-full: 9999px;--font-display: 'Cinzel Decorative', 'ZCOOL XiaoWei', 'Noto Serif SC', serif;--font-body: 'Noto Serif SC', 'Source Han Serif CN', 'SimSun', serif;--font-ui: 'Inter', 'Noto Sans SC', 'Microsoft YaHei', sans-serif;--text-xs: 0.75rem;--text-sm: 0.875rem;--text-base: 1rem;--text-lg: 1.125rem;--text-xl: 1.5rem;--text-2xl: 2rem;--text-3xl: 2.5rem;--text-4xl: 3rem;--leading-none: 1;--leading-tight: 1.25;--leading-snug: 1.375;--leading-normal: 1.5;--leading-relaxed: 1.625;--leading-loose: 2;--shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.3);--shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.35);--shadow-md: 0 4px 8px rgba(0, 0, 0, 0.4);--shadow-lg: 0 8px 16px rgba(0, 0, 0, 0.45);--shadow-xl: 0 12px 24px rgba(0, 0, 0, 0.5);--shadow-2xl: 0 16px 32px rgba(0, 0, 0, 0.55);--shadow-inner: inset 0 2px 4px rgba(0, 0, 0, 0.3);--shadow-inner-lg: inset 0 4px 8px rgba(0, 0, 0, 0.4);--shadow-glow-gold: 0 0 20px rgba(212, 175, 55, 0.5);--shadow-glow-gold-strong: 0 0 30px rgba(212, 175, 55, 0.7);--shadow-glow-danger: 0 0 20px rgba(184, 50, 50, 0.5);--shadow-glow-magic: 0 0 20px rgba(123, 92, 184, 0.5);--shadow-glass: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.08);--transition-fast: 0.15s ease;--transition-normal: 0.25s ease;--transition-slow: 0.4s ease;--transition-slower: 0.6s ease;--ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);--ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);--ease-in-out: cubic-bezier(0.65, 0, 0.35, 1);--z-base: 0;--z-above: 10;--z-dropdown: 100;--z-sticky: 200;--z-fixed: 300;--z-modal-backdrop: 400;--z-modal: 500;--z-popover: 600;--z-tooltip: 700;--z-notification: 800;--z-max: 9999;--glass-blur: 10px;--glass-blur-strong: 20px;--glass-bg-opacity: 0.85;--glass-border-opacity: 0.3;--top-bar-height: 60px;--bottom-bar-height: 80px;--sidebar-width: 280px;--content-max-width: 1200px}*{margin:0;padding:0;box-sizing:border-box}html{font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.telain-container{width:100%;aspect-ratio:9/16;max-height:800px;font-family:var(--font-body);font-size:var(--text-base);color:var(--text-primary);background:var(--bg-deepest);overflow:hidden;position:relative;line-height:var(--leading-normal)}.app-background{position:absolute;inset:0;z-index:var(--z-base);pointer-events:none;overflow:hidden}.app-background .bg-overlay{position:absolute;inset:0;background:var(--gradient-overlay)}.app-background .bg-particles{position:absolute;inset:0;background-image:radial-gradient(circle at 20% 20%, rgba(var(--gold-primary-rgb), 0.08) 0%, transparent 50%),radial-gradient(circle at 80% 80%, rgba(var(--gold-primary-rgb), 0.06) 0%, transparent 40%),radial-gradient(circle at 50% 50%, rgba(var(--gold-primary-rgb), 0.04) 0%, transparent 60%);animation:particle-drift 20s ease-in-out infinite}.app-background .bg-texture{position:absolute;inset:0;opacity:.03;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")}@keyframes particle-drift{0%,100%{transform:translate(0, 0) scale(1)}25%{transform:translate(10px, -10px) scale(1.02)}50%{transform:translate(-5px, 5px) scale(0.98)}75%{transform:translate(-10px, -5px) scale(1.01)}}.app-content{position:relative;z-index:var(--z-above);display:flex;flex-direction:column;height:100%}.main-content{flex:1;overflow:hidden;position:relative;padding-top:var(--top-bar-height);padding-bottom:var(--bottom-bar-height)}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:var(--bg-dark);border-radius:var(--radius-full)}::-webkit-scrollbar-thumb{background:linear-gradient(180deg, var(--gold-dark) 0%, var(--gold-darkest) 100%);border-radius:var(--radius-full);transition:var(--transition-normal)}::-webkit-scrollbar-thumb:hover{background:linear-gradient(180deg, var(--gold-primary) 0%, var(--gold-dark) 100%)}*{scrollbar-width:thin;scrollbar-color:var(--gold-dark) var(--bg-dark)}h1,h2,h3,h4,h5,h6{font-family:var(--font-display);color:var(--gold-primary);font-weight:600;line-height:var(--leading-tight);margin-bottom:var(--space-sm)}h1{font-size:var(--text-3xl);text-shadow:0 2px 10px rgba(var(--gold-primary-rgb), 0.3)}h2{font-size:var(--text-2xl);text-shadow:0 2px 8px rgba(var(--gold-primary-rgb), 0.2)}h3{font-size:var(--text-xl)}h4{font-size:var(--text-lg)}h5{font-size:var(--text-base)}h6{font-size:var(--text-sm)}p{line-height:var(--leading-relaxed);margin-bottom:var(--space-md);color:var(--text-primary)}em{color:var(--gold-bright);font-style:italic}strong{color:var(--text-brightest);font-weight:600}small{font-size:var(--text-sm);color:var(--text-secondary)}button{font-family:var(--font-ui);cursor:pointer;border:none;outline:none;background:none;transition:var(--transition-normal);-webkit-tap-highlight-color:rgba(0,0,0,0)}button:disabled{cursor:not-allowed;opacity:.5;pointer-events:none}button:focus-visible{outline:2px solid var(--gold-primary);outline-offset:2px}.btn-primary{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-lg);font-size:var(--text-sm);font-weight:500;color:var(--bg-deepest);background:var(--gradient-gold);border-radius:var(--radius-md);box-shadow:var(--shadow-md),inset 0 1px 0 hsla(0,0%,100%,.2);transition:var(--transition-normal)}.btn-primary:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-lg),var(--shadow-glow-gold)}.btn-primary:active:not(:disabled){transform:translateY(0) scale(0.98)}.btn-secondary{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-lg);font-size:var(--text-sm);font-weight:500;color:var(--text-primary);background:var(--gradient-glass);border:1px solid var(--border-light);border-radius:var(--radius-md);backdrop-filter:blur(var(--glass-blur));transition:var(--transition-normal)}.btn-secondary:hover:not(:disabled){border-color:var(--border-medium);background:rgba(var(--bg-card-rgb), 0.95);transform:translateY(-2px)}.btn-secondary:active:not(:disabled){transform:translateY(0) scale(0.98)}.btn-danger{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-lg);font-size:var(--text-sm);font-weight:500;color:var(--text-brightest);background:var(--gradient-battle);border-radius:var(--radius-md);box-shadow:var(--shadow-md);transition:var(--transition-normal)}.btn-danger:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-lg),var(--shadow-glow-danger)}.btn-danger:active:not(:disabled){transform:translateY(0) scale(0.98)}.btn-ghost{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-md);font-size:var(--text-sm);color:var(--text-secondary);background:rgba(0,0,0,0);border-radius:var(--radius-md);transition:var(--transition-normal)}.btn-ghost:hover:not(:disabled){color:var(--gold-primary);background:rgba(var(--gold-primary-rgb), 0.1)}.btn-ghost:active:not(:disabled){transform:scale(0.98)}input,textarea{font-family:var(--font-body);font-size:var(--text-base);color:var(--text-primary);background:rgba(var(--bg-dark-rgb), 0.8);border:1px solid var(--border-light);border-radius:var(--radius-md);padding:var(--space-sm) var(--space-md);transition:var(--transition-normal);backdrop-filter:blur(var(--glass-blur))}input::placeholder,textarea::placeholder{color:var(--text-muted)}input:hover:not(:disabled),textarea:hover:not(:disabled){border-color:var(--border-medium)}input:focus,textarea:focus{outline:none;border-color:var(--gold-primary);box-shadow:0 0 0 3px rgba(var(--gold-primary-rgb), 0.15),var(--shadow-sm)}input:disabled,textarea:disabled{opacity:.5;cursor:not-allowed}textarea{resize:vertical;min-height:100px}a{color:var(--gold-bright);text-decoration:none;transition:var(--transition-fast);cursor:pointer}a:hover{color:var(--gold-brightest);text-shadow:0 0 10px rgba(var(--gold-bright-rgb), 0.5)}a:focus-visible{outline:2px solid var(--gold-primary);outline-offset:2px}.glass-panel{background:var(--gradient-glass);backdrop-filter:blur(var(--glass-blur));border:1px solid var(--border-light);border-radius:var(--radius-lg);box-shadow:var(--shadow-glass)}.glass-panel-strong{background:linear-gradient(135deg, rgba(var(--bg-card-rgb), 0.95) 0%, rgba(var(--bg-medium-rgb), 0.98) 100%);backdrop-filter:blur(var(--glass-blur-strong));border:1px solid var(--border-medium);border-radius:var(--radius-lg);box-shadow:var(--shadow-glass)}.glow-border{position:relative;border:1px solid rgba(0,0,0,0);background-clip:padding-box}.glow-border::before{content:"";position:absolute;inset:-2px;background:var(--gradient-gold-horizontal);background-size:200% 100%;border-radius:inherit;z-index:-1;animation:glow-flow 3s linear infinite;opacity:.8}.glow-border::after{content:"";position:absolute;inset:0;background:var(--bg-card);border-radius:inherit;z-index:-1}@keyframes glow-flow{0%{background-position:0% 50%}100%{background-position:200% 50%}}.card{background:rgba(var(--bg-card-rgb), 0.9);border:1px solid var(--border-light);border-radius:var(--radius-lg);padding:var(--space-md);transition:var(--transition-normal)}.card:hover{border-color:var(--border-medium);transform:translateY(-2px);box-shadow:var(--shadow-lg)}.card-header{display:flex;align-items:center;gap:var(--space-sm);padding-bottom:var(--space-sm);margin-bottom:var(--space-md);border-bottom:1px solid var(--border-subtle)}.card-title{font-family:var(--font-display);font-size:var(--text-lg);color:var(--gold-primary);margin:0}.card-body{color:var(--text-primary)}.card-footer{display:flex;align-items:center;justify-content:flex-end;gap:var(--space-sm);padding-top:var(--space-md);margin-top:var(--space-md);border-top:1px solid var(--border-subtle)}.divider{height:1px;background:linear-gradient(90deg, transparent, var(--border-light) 20%, var(--border-light) 80%, transparent);margin:var(--space-md) 0}.divider-gold{height:2px;background:linear-gradient(90deg, transparent, var(--gold-dark) 10%, var(--gold-primary) 50%, var(--gold-dark) 90%, transparent);margin:var(--space-lg) 0}.divider-ornate{display:flex;align-items:center;justify-content:center;gap:var(--space-md);margin:var(--space-lg) 0}.divider-ornate::before,.divider-ornate::after{content:"";flex:1;height:1px;background:linear-gradient(90deg, transparent, var(--gold-dark))}.divider-ornate::after{background:linear-gradient(90deg, var(--gold-dark), transparent)}.divider-ornate .divider-icon{color:var(--gold-primary);font-size:var(--text-lg)}.badge{display:inline-flex;align-items:center;gap:var(--space-xs);padding:2px var(--space-sm);font-size:var(--text-xs);font-weight:500;border-radius:var(--radius-full);background:rgba(var(--bg-card-rgb), 0.8);border:1px solid var(--border-light);color:var(--text-secondary)}.badge-gold{background:rgba(var(--gold-primary-rgb), 0.2);border-color:var(--gold-dark);color:var(--gold-bright)}.badge-success{background:rgba(var(--success-rgb), 0.2);border-color:var(--success-dark);color:var(--success-light)}.badge-danger{background:rgba(var(--danger-rgb), 0.2);border-color:var(--danger-dark);color:var(--danger-light)}.badge-warning{background:rgba(var(--warning-rgb), 0.2);border-color:var(--warning-dark);color:var(--warning-light)}.badge-info{background:rgba(var(--info-rgb), 0.2);border-color:var(--info-dark);color:var(--info-light)}.badge-magic{background:rgba(var(--magic-rgb), 0.2);border-color:var(--magic-dark);color:var(--magic-light)}.progress{height:8px;background:var(--bg-dark);border-radius:var(--radius-full);overflow:hidden;box-shadow:var(--shadow-inner)}.progress-bar{height:100%;border-radius:var(--radius-full);transition:width var(--transition-slow);background:var(--gradient-gold);box-shadow:0 0 10px rgba(var(--gold-primary-rgb), 0.5)}.progress-bar-danger{background:var(--gradient-battle);box-shadow:0 0 10px rgba(var(--danger-rgb), 0.5)}.progress-bar-magic{background:var(--gradient-magic);box-shadow:0 0 10px rgba(var(--magic-rgb), 0.5)}.text-center{text-align:center}.text-left{text-align:left}.text-right{text-align:right}.text-brightest{color:var(--text-brightest)}.text-primary{color:var(--text-primary)}.text-secondary{color:var(--text-secondary)}.text-muted{color:var(--text-muted)}.text-gold{color:var(--gold-primary)}.text-success{color:var(--success)}.text-danger{color:var(--danger)}.text-warning{color:var(--warning)}.text-info{color:var(--info)}.text-magic{color:var(--magic)}.flex{display:flex}.inline-flex{display:inline-flex}.flex-col{flex-direction:column}.flex-row{flex-direction:row}.flex-wrap{flex-wrap:wrap}.flex-1{flex:1}.items-start{align-items:flex-start}.items-center{align-items:center}.items-end{align-items:flex-end}.justify-start{justify-content:flex-start}.justify-center{justify-content:center}.justify-end{justify-content:flex-end}.justify-between{justify-content:space-between}.gap-xs{gap:var(--space-xs)}.gap-sm{gap:var(--space-sm)}.gap-md{gap:var(--space-md)}.gap-lg{gap:var(--space-lg)}.gap-xl{gap:var(--space-xl)}.p-xs{padding:var(--space-xs)}.p-sm{padding:var(--space-sm)}.p-md{padding:var(--space-md)}.p-lg{padding:var(--space-lg)}.p-xl{padding:var(--space-xl)}.m-xs{margin:var(--space-xs)}.m-sm{margin:var(--space-sm)}.m-md{margin:var(--space-md)}.m-lg{margin:var(--space-lg)}.m-xl{margin:var(--space-xl)}.rounded-sm{border-radius:var(--radius-sm)}.rounded-md{border-radius:var(--radius-md)}.rounded-lg{border-radius:var(--radius-lg)}.rounded-xl{border-radius:var(--radius-xl)}.rounded-full{border-radius:var(--radius-full)}.hidden{display:none}.invisible{visibility:hidden}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0}.overflow-hidden{overflow:hidden}.overflow-auto{overflow:auto}.overflow-scroll{overflow:scroll}.relative{position:relative}.absolute{position:absolute}.fixed{position:fixed}.sticky{position:sticky}.inset-0{inset:0}.page-enter-active,.page-leave-active{transition:all var(--transition-normal)}.page-enter-from{opacity:0;transform:translateY(20px)}.page-leave-to{opacity:0;transform:translateY(-20px)}.modal-enter-active,.modal-leave-active{transition:all var(--transition-normal)}.modal-enter-from,.modal-leave-to{opacity:0}.modal-enter-from .modal-content,.modal-leave-to .modal-content{transform:scale(0.9) translateY(20px)}.overlay-enter-active,.overlay-leave-active{transition:opacity var(--transition-normal)}.overlay-enter-from,.overlay-leave-to{opacity:0}.global-overlay{position:fixed;inset:0;z-index:var(--z-modal-backdrop);background:rgba(0,0,0,.7);backdrop-filter:blur(4px)}.icon{display:inline-flex;align-items:center;justify-content:center;width:1em;height:1em;flex-shrink:0}.icon svg{width:100%;height:100%;fill:currentColor}.icon-sm{font-size:var(--text-sm)}.icon-md{font-size:var(--text-base)}.icon-lg{font-size:var(--text-xl)}.icon-xl{font-size:var(--text-2xl)}.ripple{position:relative;overflow:hidden}.ripple::after{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:rgba(var(--gold-primary-rgb), 0.3);border-radius:50%;transform:translate(-50%, -50%);opacity:0}.ripple:active::after{width:200%;height:200%;opacity:1;transition:width .3s ease-out,height .3s ease-out,opacity .3s ease-out}
@keyframes pulse-glow-gold{0%,100%{box-shadow:0 0 10px rgba(212,175,55,.4)}50%{box-shadow:0 0 25px rgba(212,175,55,.7),0 0 40px rgba(212,175,55,.4)}}@keyframes pulse-glow-danger{0%,100%{box-shadow:0 0 10px rgba(184,50,50,.4)}50%{box-shadow:0 0 25px rgba(184,50,50,.7),0 0 40px rgba(184,50,50,.4)}}@keyframes pulse-glow-magic{0%,100%{box-shadow:0 0 10px rgba(123,92,184,.4)}50%{box-shadow:0 0 25px rgba(123,92,184,.7),0 0 40px rgba(123,92,184,.4)}}@keyframes text-glow{0%,100%{text-shadow:0 0 5px currentColor}50%{text-shadow:0 0 15px currentColor,0 0 25px currentColor}}@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes float-gentle{0%,100%{transform:translateY(0) rotate(0deg)}25%{transform:translateY(-5px) rotate(1deg)}50%{transform:translateY(-8px) rotate(0deg)}75%{transform:translateY(-5px) rotate(-1deg)}}@keyframes bounce{0%,100%{transform:translateY(0);animation-timing-function:cubic-bezier(0.8, 0, 1, 1)}50%{transform:translateY(-12px);animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}}@keyframes bounce-in{0%{transform:scale(0.3);opacity:0}50%{transform:scale(1.05)}70%{transform:scale(0.9)}100%{transform:scale(1);opacity:1}}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}@keyframes spin-reverse{from{transform:rotate(360deg)}to{transform:rotate(0deg)}}@keyframes swing{0%,100%{transform:rotate(0deg)}25%{transform:rotate(15deg)}75%{transform:rotate(-15deg)}}@keyframes magic-circle{0%{transform:rotate(0deg) scale(1);opacity:.8}50%{transform:rotate(180deg) scale(1.1);opacity:1}100%{transform:rotate(360deg) scale(1);opacity:.8}}@keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-out{from{opacity:1}to{opacity:0}}@keyframes fade-in-up{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes fade-in-down{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes fade-in-left{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}@keyframes fade-in-right{from{opacity:0;transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}@keyframes scale-in{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:scale(1)}}@keyframes scale-out{from{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(0.8)}}@keyframes pulse-scale{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}@keyframes heartbeat{0%,100%{transform:scale(1)}14%{transform:scale(1.15)}28%{transform:scale(1)}42%{transform:scale(1.15)}70%{transform:scale(1)}}@keyframes shake{0%,100%{transform:translateX(0)}10%,30%,50%,70%,90%{transform:translateX(-5px)}20%,40%,60%,80%{transform:translateX(5px)}}@keyframes shake-hard{0%,100%{transform:translate(0, 0) rotate(0deg)}10%{transform:translate(-8px, -2px) rotate(-1deg)}20%{transform:translate(6px, 3px) rotate(1deg)}30%{transform:translate(-5px, -1px) rotate(0deg)}40%{transform:translate(7px, 2px) rotate(1deg)}50%{transform:translate(-6px, -3px) rotate(-1deg)}60%{transform:translate(4px, 1px) rotate(0deg)}70%{transform:translate(-3px, -2px) rotate(1deg)}80%{transform:translate(5px, 3px) rotate(-1deg)}90%{transform:translate(-2px, 1px) rotate(0deg)}}@keyframes flash{0%,100%{opacity:1;filter:brightness(1)}50%{opacity:.8;filter:brightness(2)}}@keyframes slash{0%{transform:translateX(0) rotate(0deg);opacity:1}30%{transform:translateX(-20px) rotate(-10deg)}60%{transform:translateX(30px) rotate(15deg)}100%{transform:translateX(0) rotate(0deg);opacity:1}}@keyframes impact{0%{transform:scale(0.5);opacity:1}100%{transform:scale(2);opacity:0}}@keyframes damage-float{0%{opacity:1;transform:translateY(0) scale(1)}20%{transform:translateY(-20px) scale(1.2)}100%{opacity:0;transform:translateY(-60px) scale(0.8)}}@keyframes particle-float{0%,100%{transform:translateY(0) translateX(0) rotate(0deg);opacity:.6}25%{transform:translateY(-15px) translateX(5px) rotate(90deg);opacity:.9}50%{transform:translateY(-25px) translateX(-5px) rotate(180deg);opacity:1}75%{transform:translateY(-15px) translateX(3px) rotate(270deg);opacity:.9}}@keyframes aura-expand{0%{transform:scale(1);opacity:.6}50%{transform:scale(1.5);opacity:.3}100%{transform:scale(2);opacity:0}}@keyframes spark{0%{transform:scale(0) rotate(0deg);opacity:1}50%{transform:scale(1.5) rotate(180deg);opacity:.8}100%{transform:scale(0) rotate(360deg);opacity:0}}@keyframes twinkle{0%,100%{opacity:.3;transform:scale(0.8)}50%{opacity:1;transform:scale(1.2)}}@keyframes border-flow{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}@keyframes border-rotate{from{background-position:0% 50%}to{background-position:200% 50%}}@keyframes dash-flow{from{stroke-dashoffset:0}to{stroke-dashoffset:100}}@keyframes blink{0%,50%{opacity:1}51%,100%{opacity:0}}@keyframes loading-dots{0%,80%,100%{transform:scale(0);opacity:0}40%{transform:scale(1);opacity:1}}@keyframes skeleton-shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}@keyframes progress-shine{0%{left:-100%}100%{left:100%}}@keyframes ripple{0%{transform:scale(0);opacity:1}100%{transform:scale(4);opacity:0}}@keyframes button-press{0%{transform:scale(1)}50%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes tooltip-show{from{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}@keyframes dropdown-show{from{opacity:0;transform:translateY(-10px) scaleY(0.9)}to{opacity:1;transform:translateY(0) scaleY(1)}}@keyframes slide-in-right{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}@keyframes slide-in-top{from{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes notification-pop{0%{transform:scale(0.5) translateY(-20px);opacity:0}60%{transform:scale(1.1) translateY(0)}100%{transform:scale(1) translateY(0);opacity:1}}.animate-glow-gold{animation:pulse-glow-gold 2s ease-in-out infinite}.animate-glow-danger{animation:pulse-glow-danger 1.5s ease-in-out infinite}.animate-glow-magic{animation:pulse-glow-magic 2s ease-in-out infinite}.animate-text-glow{animation:text-glow 2s ease-in-out infinite}.animate-float{animation:float 3s ease-in-out infinite}.animate-float-gentle{animation:float-gentle 4s ease-in-out infinite}.animate-bounce{animation:bounce 1s ease-in-out infinite}.animate-bounce-in{animation:bounce-in .6s ease-out}.animate-spin{animation:spin 1s linear infinite}.animate-spin-slow{animation:spin 3s linear infinite}.animate-swing{animation:swing 1s ease-in-out infinite}.animate-magic-circle{animation:magic-circle 8s linear infinite}.animate-fade-in{animation:fade-in .3s ease-out}.animate-fade-in-up{animation:fade-in-up .4s ease-out}.animate-fade-in-down{animation:fade-in-down .4s ease-out}.animate-fade-in-left{animation:fade-in-left .4s ease-out}.animate-fade-in-right{animation:fade-in-right .4s ease-out}.animate-scale-in{animation:scale-in .3s ease-out}.animate-pulse-scale{animation:pulse-scale 2s ease-in-out infinite}.animate-heartbeat{animation:heartbeat 1.5s ease-in-out infinite}.animate-shake{animation:shake .5s ease-in-out}.animate-shake-hard{animation:shake-hard .6s ease-in-out}.animate-flash{animation:flash .3s ease-in-out}.animate-slash{animation:slash .4s ease-out}.animate-impact{animation:impact .5s ease-out forwards}.animate-damage-float{animation:damage-float 1s ease-out forwards}.animate-particle{animation:particle-float 3s ease-in-out infinite}.animate-aura{animation:aura-expand 2s ease-out infinite}.animate-spark{animation:spark .6s ease-out}.animate-twinkle{animation:twinkle 2s ease-in-out infinite}.animate-blink{animation:blink 1s step-end infinite}.animate-skeleton{background:linear-gradient(90deg, rgba(61, 40, 23, 0.3) 25%, rgba(61, 40, 23, 0.5) 50%, rgba(61, 40, 23, 0.3) 75%);background-size:200% 100%;animation:skeleton-shimmer 1.5s infinite}.animate-slide-in-right{animation:slide-in-right .3s ease-out}.animate-slide-in-top{animation:slide-in-top .3s ease-out}.animate-notification{animation:notification-pop .4s ease-out}.delay-75{animation-delay:75ms}.delay-100{animation-delay:100ms}.delay-150{animation-delay:150ms}.delay-200{animation-delay:200ms}.delay-300{animation-delay:300ms}.delay-500{animation-delay:500ms}.delay-700{animation-delay:700ms}.delay-1000{animation-delay:1000ms}.duration-75{animation-duration:75ms}.duration-100{animation-duration:100ms}.duration-150{animation-duration:150ms}.duration-200{animation-duration:200ms}.duration-300{animation-duration:300ms}.duration-500{animation-duration:500ms}.duration-700{animation-duration:700ms}.duration-1000{animation-duration:1000ms}.animate-paused{animation-play-state:paused}.animate-running{animation-play-state:running}.animate-once{animation-iteration-count:1}.animate-infinite{animation-iteration-count:infinite}@media(prefers-reduced-motion: reduce){*,*::before,*::after{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important}}
</style></head><body><div id="app"></div></body>